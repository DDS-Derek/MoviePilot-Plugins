import{importShared as e}from"./__federation_fn_import-B6DyUTOO.js";import{_ as l}from"./_plugin-vue_export-helper-BCo6x5W8.js";const{resolveComponent:a,createVNode:t,createElementVNode:o,withCtx:n,toDisplayString:i,createTextVNode:d,openBlock:r,createBlock:s,createCommentVNode:c,renderList:u,Fragment:m,createElementBlock:_,withKeys:p}=await e("vue"),f={class:"plugin-config"},y={key:2,class:"my-1"},v={class:"d-flex flex-column"},h={class:"d-flex flex-column"},b={class:"path-selector flex-grow-1 mr-2"},g={class:"path-selector flex-grow-1 ml-2"},V={class:"d-flex flex-column"},x={class:"path-selector flex-grow-1 mr-2"},k={class:"path-selector flex-grow-1 ml-2"},w={class:"basic-config"},U={class:"d-flex flex-column"},C={class:"path-selector flex-grow-1 mr-2"},T={class:"path-selector flex-grow-1 ml-2"},z={class:"d-flex flex-column"},M={class:"d-flex flex-column"},S={class:"path-selector flex-grow-1 mr-2"},P={class:"path-selector flex-grow-1 ml-2"},R={class:"d-flex flex-column"},$={class:"path-selector flex-grow-1 mr-2"},I={class:"path-selector flex-grow-1 ml-2"},L={class:"d-flex flex-column"},q={class:"d-flex flex-column"},E={class:"path-selector flex-grow-1 mr-2"},A={class:"path-selector flex-grow-1 ml-2"},B={class:"d-flex flex-column"},N={class:"path-selector flex-grow-1 mr-2"},j={class:"path-selector flex-grow-1 ml-2"},K={class:"d-flex flex-column"},O={class:"d-flex ga-2"},D={key:0,class:"d-flex justify-center my-3"},G={key:1},F={key:1,class:"d-flex flex-column align-center py-3"},J={key:2,class:"d-flex flex-column align-center"},W={class:"d-flex flex-column align-center mb-3"},H=["src"],Y={class:"text-body-2 text-grey mb-1"},Z={class:"text-subtitle-2 font-weight-medium text-primary"},Q={key:3,class:"d-flex flex-column align-center py-3"},X={class:"text-caption mt-2 text-grey"},ee={key:1,class:"d-flex flex-column align-center py-3"},le={key:2,class:"d-flex flex-column align-center"},ae=["src"],te={class:"text-subtitle-2 font-weight-medium text-primary"},oe={key:3,class:"d-flex flex-column align-center py-3"},{ref:ne,reactive:ie,computed:de,onMounted:re,onBeforeUnmount:se,watch:ce}=await e("vue"),ue="P115StrmHelper",me=l({__name:"Config",props:{api:{type:[Object,Function],required:!0},initialConfig:{type:Object,default:()=>({})}},emits:["save","close","switch"],setup(e,{emit:l}){const me=e,_e=l,pe=ne(!0),fe=ne(!1),ye=ne(!1);ne(!1);const ve=ne("tab-transfer"),he=ne([]),be=ne(!1),ge=ne(!1),Ve=ne(!0),xe=ie({language:"zh_CN",enabled:!1,notify:!1,strm_url_format:"pickcode",link_redirect_mode:"cookie",cookies:"",aliyundrive_token:"",password:"",moviepilot_address:"",user_rmt_mediaext:"mp4,mkv,ts,iso,rmvb,avi,mov,mpeg,mpg,wmv,3gp,asf,m4v,flv,m2ts,tp,f4v",user_download_mediaext:"srt,ssa,ass",transfer_monitor_enabled:!1,transfer_monitor_scrape_metadata_enabled:!1,transfer_monitor_scrape_metadata_exclude_paths:"",transfer_monitor_paths:"",transfer_mp_mediaserver_paths:"",transfer_monitor_media_server_refresh_enabled:!1,transfer_monitor_mediaservers:[],timing_full_sync_strm:!1,full_sync_overwrite_mode:"never",full_sync_remove_unless_strm:!1,full_sync_auto_download_mediainfo_enabled:!1,full_sync_strm_log:!0,full_sync_batch_num:5e3,full_sync_process_num:128,cron_full_sync_strm:"0 */7 * * *",full_sync_strm_paths:"",full_sync_iter_function:"iter_files_with_path_skim",full_sync_min_file_size:0,increment_sync_strm_enabled:!1,increment_sync_auto_download_mediainfo_enabled:!1,increment_sync_cron:"0 * * * *",increment_sync_strm_paths:"",increment_sync_mp_mediaserver_paths:"",increment_sync_scrape_metadata_enabled:!1,increment_sync_scrape_metadata_exclude_paths:"",increment_sync_media_server_refresh_enabled:!1,increment_sync_mediaservers:[],increment_sync_min_file_size:0,monitor_life_enabled:!1,monitor_life_auto_download_mediainfo_enabled:!1,monitor_life_paths:"",monitor_life_mp_mediaserver_paths:"",monitor_life_media_server_refresh_enabled:!1,monitor_life_mediaservers:[],monitor_life_event_modes:[],monitor_life_scrape_metadata_enabled:!1,monitor_life_scrape_metadata_exclude_paths:"",monitor_life_remove_mp_history:!1,monitor_life_remove_mp_source:!1,monitor_life_min_file_size:0,share_strm_auto_download_mediainfo_enabled:!1,user_share_code:"",user_receive_code:"",user_share_link:"",user_share_pan_path:"/",user_share_local_path:"",clear_recyclebin_enabled:!1,clear_receive_path_enabled:!1,cron_clear:"0 */7 * * *",pan_transfer_enabled:!1,pan_transfer_paths:"",pan_transfer_unrecognized_path:"",directory_upload_enabled:!1,directory_upload_mode:"compatibility",directory_upload_uploadext:"mp4,mkv,ts,iso,rmvb,avi,mov,mpeg,mpg,wmv,3gp,asf,m4v,flv,m2ts,tp,f4v",directory_upload_copyext:"srt,ssa,ass",directory_upload_path:[],nullbr_app_id:"",nullbr_api_key:"",tg_search_channels:[],same_playback:!1,error_info_upload:!1,upload_module_enhancement:!1,upload_module_skip_slow_upload:!1,upload_module_notify:!0,upload_module_wait_time:300,upload_module_wait_timeout:3600,upload_module_skip_upload_wait_size:0,upload_module_force_upload_wait_size:0,upload_share_info:!0,upload_offline_info:!0,transfer_module_enhancement:!1,strm_url_mode_custom:"",strm_generate_blacklist:[],mediainfo_download_whitelist:[],mediainfo_download_blacklist:[]}),ke=ie({text:"",type:"info"}),we=de({get:()=>!xe.upload_module_skip_upload_wait_size||xe.upload_module_skip_upload_wait_size<=0?"":Se(xe.upload_module_skip_upload_wait_size),set(e){xe.upload_module_skip_upload_wait_size=Me(e)}}),Ue=de({get:()=>!xe.upload_module_force_upload_wait_size||xe.upload_module_force_upload_wait_size<=0?"":Se(xe.upload_module_force_upload_wait_size),set(e){xe.upload_module_force_upload_wait_size=Me(e)}}),Ce=de({get:()=>!xe.full_sync_min_file_size||xe.full_sync_min_file_size<=0?"":Se(xe.full_sync_min_file_size),set(e){xe.full_sync_min_file_size=Me(e)}}),Te=de({get:()=>!xe.increment_sync_min_file_size||xe.increment_sync_min_file_size<=0?"":Se(xe.increment_sync_min_file_size),set(e){xe.increment_sync_min_file_size=Me(e)}}),ze=de({get:()=>!xe.monitor_life_min_file_size||xe.monitor_life_min_file_size<=0?"":Se(xe.monitor_life_min_file_size),set(e){xe.monitor_life_min_file_size=Me(e)}}),Me=e=>{if(!e||"string"!=typeof e)return 0;const l=e.trim().match(/^(\d*\.?\d+)\s*(k|m|g|t)?b?$/i);if(!l)return 0;const a=parseFloat(l[1]);switch((l[2]||"").toLowerCase()){case"t":return Math.round(1024*a*1024*1024*1024);case"g":return Math.round(1024*a*1024*1024);case"m":return Math.round(1024*a*1024);case"k":return Math.round(1024*a);default:return Math.round(a)}},Se=(e,l=2)=>{if(!+e)return"0 B";const a=l<0?0:l,t=Math.floor(Math.log(e)/Math.log(1024));return`${parseFloat((e/Math.pow(1024,t)).toFixed(a))} ${["B","K","M","G","T"][t]}`},Pe=ne([{local:"",remote:""}]),Re=ne([{local:"",remote:""}]),$e=ne([{local:"",remote:""}]),Ie=ne([{local:"",remote:""}]),Le=ne([{local:"",remote:""}]),qe=ne([{local:"",remote:""}]),Ee=ne([{local:"",remote:""}]),Ae=ne([{path:""}]),Be=ne([{path:""}]),Ne=ne([{local:"",remote:""}]),je=ne([{path:""}]),Ke=ne([{src:"",dest_remote:"",dest_local:"",delete:!1}]),Oe=ne(!1),De=ne(""),Ge=ne([{name:"",id:""}]),Fe=()=>{Ge.value.push({name:"",id:""})},Je=ie({show:!1,jsonText:"",error:""}),We=ie({show:!1,isLocal:!0,loading:!1,error:null,currentPath:"/",items:[],selectedPath:"",callback:null,type:"",index:-1,fieldKey:null,targetConfigKeyForExclusion:null,originalPathTypeBackup:"",originalIndexBackup:-1}),He=ie({show:!1,loading:!1,error:null,qrcode:"",uid:"",time:"",sign:"",tips:"请使用支付宝扫描二维码登录",status:"等待扫码",checkInterval:null,clientType:"alipaymini"}),Ye=[{label:"支付宝",value:"alipaymini"},{label:"微信",value:"wechatmini"},{label:"安卓",value:"115android"},{label:"iOS",value:"115ios"},{label:"网页",value:"web"},{label:"PAD",value:"115ipad"},{label:"TV",value:"tv"}],Ze=ie({show:!1,loading:!1,error:null,qrcode:"",t:"",ck:"",status:"等待扫码",checkIntervalId:null});ce(()=>xe.transfer_monitor_paths,e=>{if(e)try{const l=e.split("\n").filter(e=>e.trim());Pe.value=l.map(e=>{const l=e.split("#");return{local:l[0]||"",remote:l[1]||""}}),0===Pe.value.length&&(Pe.value=[{local:"",remote:""}])}catch(l){console.error("解析transfer_monitor_paths出错:",l),Pe.value=[{local:"",remote:""}]}else Pe.value=[{local:"",remote:""}]},{immediate:!0}),ce(()=>xe.transfer_mp_mediaserver_paths,e=>{if(e)try{const l=e.split("\n").filter(e=>e.trim());Re.value=l.map(e=>{const l=e.split("#");return{local:l[0]||"",remote:l[1]||""}}),0===Re.value.length&&(Re.value=[{local:"",remote:""}])}catch(l){console.error("解析transfer_mp_mediaserver_paths出错:",l),Re.value=[{local:"",remote:""}]}else Re.value=[{local:"",remote:""}]},{immediate:!0}),ce(()=>xe.full_sync_strm_paths,e=>{if(e)try{const l=e.split("\n").filter(e=>e.trim());$e.value=l.map(e=>{const l=e.split("#");return{local:l[0]||"",remote:l[1]||""}}),0===$e.value.length&&($e.value=[{local:"",remote:""}])}catch(l){console.error("解析full_sync_strm_paths出错:",l),$e.value=[{local:"",remote:""}]}else $e.value=[{local:"",remote:""}]},{immediate:!0}),ce(()=>xe.increment_sync_strm_paths,e=>{if(e)try{const l=e.split("\n").filter(e=>e.trim());Ie.value=l.map(e=>{const l=e.split("#");return{local:l[0]||"",remote:l[1]||""}}),0===Ie.value.length&&(Ie.value=[{local:"",remote:""}])}catch(l){console.error("解析increment_sync_strm_paths出错:",l),Ie.value=[{local:"",remote:""}]}else Ie.value=[{local:"",remote:""}]},{immediate:!0}),ce(()=>xe.increment_sync_mp_mediaserver_paths,e=>{if(e)try{const l=e.split("\n").filter(e=>e.trim());Le.value=l.map(e=>{const l=e.split("#");return{local:l[0]||"",remote:l[1]||""}}),0===Le.value.length&&(Le.value=[{local:"",remote:""}])}catch(l){console.error("解析increment_sync_mp_mediaserver_paths出错:",l),Le.value=[{local:"",remote:""}]}else Le.value=[{local:"",remote:""}]},{immediate:!0}),ce(()=>xe.monitor_life_paths,e=>{if(e)try{const l=e.split("\n").filter(e=>e.trim());qe.value=l.map(e=>{const l=e.split("#");return{local:l[0]||"",remote:l[1]||""}}),0===qe.value.length&&(qe.value=[{local:"",remote:""}])}catch(l){console.error("解析monitor_life_paths出错:",l),qe.value=[{local:"",remote:""}]}else qe.value=[{local:"",remote:""}]},{immediate:!0}),ce(()=>xe.monitor_life_mp_mediaserver_paths,e=>{if(e)try{const l=e.split("\n").filter(e=>e.trim());Ee.value=l.map(e=>{const l=e.split("#");return{local:l[0]||"",remote:l[1]||""}}),0===Ee.value.length&&(Ee.value=[{local:"",remote:""}])}catch(l){console.error("解析monitor_life_mp_mediaserver_paths出错:",l),Ee.value=[{local:"",remote:""}]}else Ee.value=[{local:"",remote:""}]},{immediate:!0}),ce(()=>xe.pan_transfer_paths,e=>{if(e)try{const l=e.split("\n").filter(e=>e.trim());Ae.value=l.map(e=>({path:e})),0===Ae.value.length&&(Ae.value=[{path:""}])}catch(l){console.error("解析pan_transfer_paths出错:",l),Ae.value=[{path:""}]}else Ae.value=[{path:""}]},{immediate:!0}),ce(()=>xe.transfer_monitor_scrape_metadata_exclude_paths,e=>{if("string"==typeof e&&e.trim())try{const l=e.split("\n").filter(e=>e.trim());Be.value=l.map(e=>({path:e})),0===Be.value.length&&(Be.value=[{path:""}])}catch(l){console.error("解析 transfer_monitor_scrape_metadata_exclude_paths 出错:",l),Be.value=[{path:""}]}else Be.value=[{path:""}]},{immediate:!0}),ce(Be,e=>{if(!Array.isArray(e))return;const l=e.map(e=>e.path?.trim()).filter(e=>e).join("\n");xe.transfer_monitor_scrape_metadata_exclude_paths!==l&&(xe.transfer_monitor_scrape_metadata_exclude_paths=l)},{deep:!0}),ce(()=>xe.increment_sync_scrape_metadata_exclude_paths,e=>{if("string"==typeof e&&e.trim())try{const l=e.split("\n").filter(e=>e.trim());Ne.value=l.map(e=>({path:e})),0===Ne.value.length&&(Ne.value=[{path:""}])}catch(l){console.error("解析 increment_sync_scrape_metadata_exclude_paths 出错:",l),Ne.value=[{path:""}]}else Ne.value=[{path:""}]},{immediate:!0}),ce(Ne,e=>{if(!Array.isArray(e))return;const l=e.map(e=>e.path?.trim()).filter(e=>e).join("\n");xe.increment_sync_scrape_metadata_exclude_paths!==l&&(xe.increment_sync_scrape_metadata_exclude_paths=l)},{deep:!0}),ce(()=>xe.monitor_life_scrape_metadata_exclude_paths,e=>{if("string"==typeof e&&e.trim())try{const l=e.split("\n").filter(e=>e.trim());je.value=l.map(e=>({path:e})),0===je.value.length&&(je.value=[{path:""}])}catch(l){console.error("解析 monitor_life_scrape_metadata_exclude_paths 出错:",l),je.value=[{path:""}]}else je.value=[{path:""}]},{immediate:!0}),ce(je,e=>{if(!Array.isArray(e))return;const l=e.map(e=>e.path?.trim()).filter(e=>e).join("\n");xe.monitor_life_scrape_metadata_exclude_paths!==l&&(xe.monitor_life_scrape_metadata_exclude_paths=l)},{deep:!0});const Qe=(e,l)=>e.map(e=>"panTransfer"===l?e.path?.trim():`${e.local?.trim()}#${e.remote?.trim()}`).filter(e=>"panTransfer"===l?e&&""!==e:"#"!==e&&""!==e).join("\n"),Xe=async()=>{fe.value=!0,ke.text="",ke.type="info";try{xe.transfer_monitor_paths=Qe(Pe.value,"transfer"),xe.transfer_mp_mediaserver_paths=Qe(Re.value,"mp"),xe.full_sync_strm_paths=Qe($e.value,"fullSync"),xe.increment_sync_strm_paths=Qe(Ie.value,"incrementSync"),xe.increment_sync_mp_mediaserver_paths=Qe(Le.value,"increment-mp"),xe.monitor_life_paths=Qe(qe.value,"monitorLife"),xe.monitor_life_mp_mediaserver_paths=Qe(Ee.value,"monitorLifeMp"),xe.pan_transfer_paths=Qe(Ae.value,"panTransfer"),xe.directory_upload_path=Ke.value.filter(e=>e.src?.trim()||e.dest_remote?.trim()||e.dest_local?.trim());const e=Ge.value.filter(e=>e.name&&""!==e.name.trim()&&e.id&&""!==e.id.trim());xe.tg_search_channels=e,_e("save",JSON.parse(JSON.stringify(xe))),ke.text="配置已发送保存请求，请稍候...",ke.type="info"}catch(e){console.error("发送保存事件时出错:",e),ke.text=`发送保存请求时出错: ${e.message||"未知错误"}`,ke.type="error"}finally{fe.value=!1,setTimeout(()=>{"info"!==ke.type&&"error"!==ke.type||(ke.text="")},5e3)}},el=async()=>{De.value="正在获取...";try{const e=await me.api.get(`plugin/${ue}/get_machine_id`);if(!e||!e.machine_id)throw new Error(e?.msg||"未能获取设备ID");De.value=e.machine_id,ke.text="设备ID获取成功！",ke.type="success"}catch(e){De.value="获取失败，请重试",ke.text=`获取设备ID失败: ${e.message||"未知错误"}`,ke.type="error"}setTimeout(()=>{"success"!==ke.type&&"info"!==ke.type||(ke.text="")},3e3)},ll=async()=>{Oe.value=!1,await al()},al=async()=>{ye.value=!0,ke.text="";try{if(!xe.enabled)throw new Error("插件未启用，请先启用插件");if(!xe.cookies||""===xe.cookies.trim())throw new Error("请先设置115 Cookie");if(xe.full_sync_strm_paths=Qe($e.value,"fullSync"),!xe.full_sync_strm_paths)throw new Error("请先配置全量同步路径");const e=await me.api.post(`plugin/${ue}/full_sync`);if(!e||0!==e.code)throw new Error(e?.msg||"启动全量同步失败");ke.text=e.msg||"全量同步任务已启动",ke.type="success"}catch(e){ke.text=`启动全量同步失败: ${e.message||"未知错误"}`,ke.type="error",console.error("启动全量同步失败:",e)}finally{ye.value=!1}},tl=e=>{switch(e){case"transfer":Pe.value.push({local:"",remote:""});break;case"mp":Re.value.push({local:"",remote:""});break;case"fullSync":$e.value.push({local:"",remote:""});break;case"incrementSync":Ie.value.push({local:"",remote:""});break;case"increment-mp":Le.value.push({local:"",remote:""});break;case"monitorLife":qe.value.push({local:"",remote:""});break;case"monitorLifeMp":Ee.value.push({local:"",remote:""});break;case"directoryUpload":Ke.value.push({src:"",dest_remote:"",dest_local:"",delete:!1})}},ol=(e,l)=>{switch(l){case"transfer":Pe.value.splice(e,1),0===Pe.value.length&&(Pe.value=[{local:"",remote:""}]);break;case"mp":Re.value.splice(e,1),0===Re.value.length&&(Re.value=[{local:"",remote:""}]);break;case"fullSync":$e.value.splice(e,1),0===$e.value.length&&($e.value=[{local:"",remote:""}]);break;case"incrementSync":Ie.value.splice(e,1),0===Ie.value.length&&(Ie.value=[{local:"",remote:""}]);break;case"increment-mp":Le.value.splice(e,1),0===Le.value.length&&(Le.value=[{local:"",remote:""}]);break;case"monitorLife":qe.value.splice(e,1),0===qe.value.length&&(qe.value=[{local:"",remote:""}]);break;case"monitorLifeMp":Ee.value.splice(e,1),0===Ee.value.length&&(Ee.value=[{local:"",remote:""}]);break;case"directoryUpload":Ke.value.splice(e,1),0===Ke.value.length&&(Ke.value=[{src:"",dest_remote:"",dest_local:"",delete:!1}])}},nl=()=>{Ae.value.push({path:""})},il=()=>{Je.jsonText="",Je.error="",Je.show=!0},dl=()=>{Je.show=!1},rl=()=>{if(Je.error="",Je.jsonText&&Je.jsonText.trim())try{const e=JSON.parse(Je.jsonText);if(!Array.isArray(e))throw new Error("数据必须是一个数组。");if(!e.every(e=>"object"==typeof e&&null!==e&&"name"in e&&"id"in e))throw new Error("数组中的每个元素都必须是包含 'name' 和 'id' 键的对象。");Ge.value=e.length>0?e:[{name:"",id:""}],ke.text="频道配置导入成功！",ke.type="success",dl()}catch(e){Je.error=`导入失败: ${e.message}`,console.error("频道导入解析失败:",e)}else Je.error="输入内容不能为空。"},sl=(e,l,a,t=null)=>{We.show=!0,We.isLocal="local"===l,We.loading=!1,We.error=null,We.items=[],We.index=e,We.type=a,We.fieldKey=t,We.targetConfigKeyForExclusion=null,We.originalPathTypeBackup="",We.originalIndexBackup=-1,We.currentPath="/",cl()},cl=async()=>{We.loading=!0,We.error=null,We.items=[];try{if(We.isLocal)try{const e=await me.api.post("storage/list",{path:We.currentPath||"/",type:"share",flag:"ROOT"});if(!e||!Array.isArray(e))throw new Error("浏览目录失败：无效响应");We.items=e.filter(e=>"dir"===e.type).map(e=>({name:e.name,path:e.path,is_dir:!0})).sort((e,l)=>e.name.localeCompare(l.name,void 0,{numeric:!0,sensitivity:"base"}))}catch(e){console.error("浏览本地目录失败:",e),We.error=`浏览本地目录失败: ${e.message||"未知错误"}`,We.items=[]}else{if(!xe.cookies||""===xe.cookies.trim())throw new Error("请先设置115 Cookie才能浏览网盘目录");const e=await me.api.get(`plugin/${ue}/browse_dir?path=${encodeURIComponent(We.currentPath)}&is_local=${We.isLocal}`);if(!e||0!==e.code||!e.data)throw new Error(e?.msg||"获取网盘目录内容失败");We.items=e.data.items.filter(e=>e.is_dir).sort((e,l)=>e.name.localeCompare(l.name,void 0,{numeric:!0,sensitivity:"base"})),We.currentPath=e.data.path||We.currentPath}}catch(e){console.error("加载目录内容失败:",e),We.error=e.message||"获取目录内容失败",(e.message.includes("Cookie")||e.message.includes("cookie"))&&(We.items=[])}finally{We.loading=!1}},ul=()=>{const e=We.currentPath;if(!We.isLocal){if("/"===e)return;let l=e.replace(/\\/g,"/");l.length>1&&l.endsWith("/")&&(l=l.slice(0,-1));const a=l.substring(0,l.lastIndexOf("/"));return We.currentPath=""===a?"/":a,void cl()}if("/"===e||"C:\\"===e||"C:/"===e)return;const l=e.replace(/\\/g,"/"),a=l.split("/").filter(Boolean);0===a.length?We.currentPath="/":1===a.length&&l.includes(":")?We.currentPath=a[0]+":/":(a.pop(),We.currentPath=0===a.length?"/":(l.startsWith("/")?"/":"")+a.join("/")+"/"),cl()},ml=()=>{if(!We.currentPath)return;let e=We.currentPath;if("/"===e||/^[a-zA-Z]:[\\\/]$/.test(e)||!e.endsWith("/")&&!e.endsWith("\\\\")||(e=e.slice(0,-1)),"excludePath"===We.type&&We.targetConfigKeyForExclusion){const l=We.targetConfigKeyForExclusion;let a;"transfer_monitor_scrape_metadata_exclude_paths"===l?a=Be:"monitor_life_scrape_metadata_exclude_paths"===l?a=je:"increment_sync_scrape_metadata_exclude_paths"===l&&(a=Ne),a&&(1!==a.value.length||a.value[0].path?a.value.some(l=>l.path===e)?(ke.text="该排除路径已存在。",ke.type="warning",setTimeout(()=>{ke.text=""},3e3)):a.value.push({path:e}):a.value[0]={path:e}),We.type=We.originalPathTypeBackup,We.index=We.originalIndexBackup,We.targetConfigKeyForExclusion=null,We.originalPathTypeBackup="",We.originalIndexBackup=-1}else if(We.index>=0&&"excludePath"!==We.type)switch(We.type){case"transfer":We.isLocal?Pe.value[We.index].local=e:Pe.value[We.index].remote=e;break;case"fullSync":We.isLocal?$e.value[We.index].local=e:$e.value[We.index].remote=e;break;case"incrementSync":We.isLocal?Ie.value[We.index].local=e:Ie.value[We.index].remote=e;break;case"monitorLife":We.isLocal?qe.value[We.index].local=e:qe.value[We.index].remote=e;break;case"panTransfer":Ae.value[We.index].path=e;break;case"directoryUpload":We.fieldKey&&Ke.value[We.index]&&(Ke.value[We.index][We.fieldKey]=e)}else"panTransferUnrecognized"===We.type?xe.pan_transfer_unrecognized_path=e:"sharePath"===We.type&&(We.isLocal?xe.user_share_local_path=e:xe.user_share_pan_path=e);_l()},_l=()=>{We.show=!1,We.items=[],We.error=null},pl=async()=>{if(!xe.cookies)return ke.text="Cookie为空，无法复制。",void(ke.type="warning");try{await navigator.clipboard.writeText(xe.cookies),ke.text="Cookie已复制到剪贴板！",ke.type="success"}catch(e){console.error("复制Cookie失败:",e),ke.text="复制Cookie失败。请检查浏览器权限或确保通过HTTPS访问，或尝试手动复制。",ke.type="error"}setTimeout(()=>{"success"!==ke.type&&"warning"!==ke.type&&"error"!==ke.type||(ke.text="")},3e3)},fl=async()=>{if(!xe.aliyundrive_token)return ke.text="Token为空，无法复制。",void(ke.type="warning");try{await navigator.clipboard.writeText(xe.aliyundrive_token),ke.text="阿里云盘Token已复制到剪贴板！",ke.type="success"}catch(e){console.error("复制Token失败:",e),ke.text="复制Token失败。请检查浏览器权限或手动复制。",ke.type="error"}setTimeout(()=>{ke.text=""},3e3)},yl=()=>{He.show=!0,He.loading=!1,He.error=null,He.qrcode="",He.uid="",He.time="",He.sign="",Ye.some(e=>e.value===He.clientType)||(He.clientType="alipaymini");const e=Ye.find(e=>e.value===He.clientType);He.tips=e?`请使用${e.label}扫描二维码登录`:"请使用支付宝扫描二维码登录",He.status="等待扫码",vl()},vl=async()=>{He.loading=!0,He.error=null,He.qrcode="",He.uid="",He.time="",He.sign="",console.warn(`【115STRM助手 DEBUG】准备获取二维码，前端选择的 clientType: ${He.clientType}`);try{const e=await me.api.get(`plugin/${ue}/get_qrcode?client_type=${He.clientType}`);e&&0===e.code&&e.data?(He.uid=e.data.uid,He.time=e.data.time,He.sign=e.data.sign,He.qrcode=e.data.qrcode,He.tips=e.data.tips||"请扫描二维码登录",He.status="等待扫码",e.data.client_type&&(He.clientType=e.data.client_type),bl()):(He.error=e?.msg||"获取二维码失败",console.error("【115STRM助手 DEBUG】获取二维码API调用失败或返回错误码: ",e))}catch(e){He.error=`获取二维码出错: ${e.message||"未知错误"}`,console.error("【115STRM助手 DEBUG】获取二维码 JS 捕获异常:",e)}finally{He.loading=!1}},hl=async()=>{if(He.uid&&He.show&&He.time&&He.sign)try{const e=await me.api.get(`plugin/${ue}/check_qrcode?uid=${He.uid}&time=${He.time}&sign=${He.sign}&client_type=${He.clientType}`);if(e&&0===e.code&&e.data){const l=e.data;"waiting"===l.status?He.status="等待扫码":"scanned"===l.status?He.status="已扫码，请在设备上确认":"success"===l.status&&(l.cookie?(Tl(),He.status="登录成功！",xe.cookies=l.cookie,ke.text='登录成功！Cookie已获取，请点击下方"保存配置"按钮保存。',ke.type="success",setTimeout(()=>{He.show=!1},3e3)):(He.status="登录似乎成功，但未获取到Cookie",ke.text="登录成功但未获取到Cookie信息，请重试或检查账号。",ke.type="warning",Tl()))}else e&&"登录成功，正在处理..."!==He.status&&(Tl(),He.error=e.msg||"二维码已失效，请刷新",He.status="二维码已失效")}catch(e){"登录成功，正在处理..."!==He.status&&console.error("检查二维码状态JS捕获异常:",e)}},bl=()=>{Tl(),He.checkIntervalId=setInterval(hl,3e3)},gl=()=>{Ze.show=!0,Ze.loading=!1,Ze.error=null,Ze.qrcode="",Ze.t="",Ze.ck="",Ze.status="等待扫码",Vl()},Vl=async()=>{Ze.loading=!0,Ze.error=null,Ze.qrcode="";try{const e=await me.api.get(`plugin/${ue}/get_aliyundrive_qrcode`);e&&0===e.code&&e.data?(Ze.qrcode=e.data.qrcode,Ze.t=e.data.t,Ze.ck=e.data.ck,Ze.status="等待扫码",kl()):Ze.error=e?.msg||"获取阿里云盘二维码失败"}catch(e){Ze.error=`获取二维码出错: ${e.message||"未知错误"}`}finally{Ze.loading=!1}},xl=async()=>{if(Ze.t&&Ze.ck&&Ze.show)try{const e=await me.api.get(`plugin/${ue}/check_aliyundrive_qrcode?t=${Ze.t}&ck=${encodeURIComponent(Ze.ck)}`);e&&0===e.code&&e.data?"success"===e.data.status&&e.data.token?(wl(),Ze.status="登录成功！",xe.aliyundrive_token=e.data.token,ke.text="阿里云盘登录成功！Token已获取，请点击下方“保存配置”按钮。",ke.type="success",setTimeout(()=>{Ze.show=!1},2e3)):(Ze.status=e.data.msg||"等待扫码","expired"!==e.data.status&&"invalid"!==e.data.status||(wl(),Ze.error="二维码已失效，请刷新")):e&&(wl(),Ze.status="二维码已失效",Ze.error=e.msg||"二维码检查失败，请刷新。")}catch(e){console.error("检查阿里云盘二维码状态出错:",e)}},kl=()=>{wl(),Ze.checkIntervalId=setInterval(xl,2e3)},wl=()=>{Ze.checkIntervalId&&(clearInterval(Ze.checkIntervalId),Ze.checkIntervalId=null)},Ul=()=>{wl(),Ze.error=null,Vl()},Cl=()=>{wl(),Ze.show=!1},Tl=()=>{He.checkIntervalId&&(clearInterval(He.checkIntervalId),He.checkIntervalId=null)},zl=()=>{Tl(),He.error=null;const e=Ye.find(e=>e.value===He.clientType);He.tips=e?`请使用${e.label}扫描二维码登录`:"请扫描二维码登录",vl()},Ml=()=>{Tl(),He.show=!1};re(async()=>{await(async()=>{try{pe.value=!0;const l=await me.api.get(`plugin/${ue}/get_config`);if(l){Object.assign(xe,l),Ke.value=Array.isArray(xe.directory_upload_path)&&xe.directory_upload_path.length>0?JSON.parse(JSON.stringify(xe.directory_upload_path)):[{src:"",dest_remote:"",dest_local:"",delete:!1}];let a=[];if(xe.tg_search_channels)if(Array.isArray(xe.tg_search_channels))a=xe.tg_search_channels;else if("string"==typeof xe.tg_search_channels)try{a=JSON.parse(xe.tg_search_channels)}catch(e){console.error("解析旧的TG频道配置字符串失败:",e),a=[]}Array.isArray(a)&&a.length>0?Ge.value=a:Ge.value=[{name:"",id:""}],l.mediaservers&&(he.value=l.mediaservers);const t=new Set;xe.transfer_monitor_paths&&xe.transfer_monitor_paths.split("\n").map(e=>e.split("#")[0]?.trim()).filter(e=>e).forEach(e=>t.add(e)),xe.full_sync_strm_paths&&xe.full_sync_strm_paths.split("\n").map(e=>e.split("#")[0]?.trim()).filter(e=>e).forEach(e=>t.add(e)),xe.monitor_life_paths&&xe.monitor_life_paths.split("\n").map(e=>e.split("#")[0]?.trim()).filter(e=>e).forEach(e=>t.add(e))}}catch(l){console.error("加载配置失败:",l),ke.text=`加载配置失败: ${l.message||"未知错误"}`,ke.type="error"}finally{pe.value=!1}})(),await(async()=>{try{const e=await me.api.get(`plugin/${ue}/check_feature?name=transfer_module_enhancement`);e&&!0===e.enabled?Ve.value=!1:(Ve.value=!0,xe.transfer_module_enhancement=!1)}catch(e){Ve.value=!0,xe.transfer_module_enhancement=!1,console.error('检查 "整理模块增强" 功能授权失败:',e)}})()}),se(()=>{console.log("组件即将卸载，清理定时器..."),Tl(),wl()}),ce(()=>He.clientType,(e,l)=>{e!==l&&He.show&&(console.log(`【115STRM助手 DEBUG】qrDialog.clientType 从 ${l} 变为 ${e}，准备刷新二维码`),zl())});const Sl=()=>{window&&window.location&&window.location.origin?(xe.moviepilot_address=window.location.origin,ke.text="MoviePilot地址已设置为当前站点地址！",ke.type="success"):(ke.text="无法获取当前站点地址。",ke.type="error"),setTimeout(()=>{"success"!==ke.type&&"error"!==ke.type||(ke.text="")},3e3)},Pl=e=>{We.show=!0,We.isLocal=!0,We.loading=!1,We.error=null,We.items=[],We.currentPath="/",We.originalPathTypeBackup=We.type,We.originalIndexBackup=We.index,We.targetConfigKeyForExclusion=e,We.type="excludePath",We.index=-1,cl()},Rl=(e,l)=>{let a;"transfer_exclude"===l?a=Be:"life_exclude"===l?a=je:"increment_exclude"===l&&(a=Ne),a&&a.value&&e<a.value.length&&(a.value.splice(e,1),0===a.value.length&&(a.value=[{path:""}]))};return(e,l)=>{const ne=a("v-icon"),ie=a("v-card-title"),de=a("v-alert"),re=a("v-skeleton-loader"),se=a("v-switch"),ce=a("v-col"),ue=a("v-select"),me=a("v-row"),Me=a("v-text-field"),Se=a("v-card-text"),Qe=a("v-card"),al=a("v-tab"),vl=a("v-tabs"),hl=a("v-divider"),bl=a("v-btn"),Vl=a("v-window-item"),xl=a("VCronField"),kl=a("v-expansion-panel-title"),wl=a("v-expansion-panel-text"),Tl=a("v-expansion-panel"),$l=a("v-expansion-panels"),Il=a("v-card-item"),Ll=a("v-textarea"),ql=a("v-combobox"),El=a("v-window"),Al=a("v-spacer"),Bl=a("v-card-actions"),Nl=a("v-dialog"),jl=a("v-progress-circular"),Kl=a("v-list-item-title"),Ol=a("v-list-item-subtitle"),Dl=a("v-list-item"),Gl=a("v-list"),Fl=a("v-chip"),Jl=a("v-chip-group");return r(),_("div",f,[t(Qe,{flat:"",class:"rounded border",style:{display:"flex","flex-direction":"column","max-height":"85vh"}},{default:n(()=>[t(ie,{class:"text-subtitle-1 d-flex align-center px-3 py-1 bg-primary-lighten-5"},{default:n(()=>[t(ne,{icon:"mdi-cog",class:"mr-2",color:"primary",size:"small"}),l[97]||(l[97]=o("span",null,"115网盘STRM助手配置",-1))]),_:1}),t(Se,{class:"px-3 py-2",style:{"flex-grow":"1","overflow-y":"auto","padding-bottom":"56px"}},{default:n(()=>[ke.text?(r(),s(de,{key:0,type:ke.type,density:"compact",class:"mb-2 text-caption",variant:"tonal",closable:""},{default:n(()=>[d(i(ke.text),1)]),_:1},8,["type"])):c("",!0),pe.value?(r(),s(re,{key:1,type:"article, actions"})):(r(),_("div",y,[t(Qe,{flat:"",class:"rounded mb-3 border config-card"},{default:n(()=>[t(ie,{class:"text-subtitle-2 d-flex align-center px-3 py-1 bg-primary-lighten-5"},{default:n(()=>[t(ne,{icon:"mdi-cog",class:"mr-2",color:"primary",size:"small"}),l[98]||(l[98]=o("span",null,"基础设置",-1))]),_:1}),t(Se,{class:"pa-3"},{default:n(()=>[t(me,null,{default:n(()=>[t(ce,{cols:"12",md:"4"},{default:n(()=>[t(se,{modelValue:xe.enabled,"onUpdate:modelValue":l[0]||(l[0]=e=>xe.enabled=e),label:"启用插件",color:"success",density:"compact"},null,8,["modelValue"])]),_:1}),t(ce,{cols:"12",md:"4"},{default:n(()=>[t(ue,{modelValue:xe.strm_url_format,"onUpdate:modelValue":l[1]||(l[1]=e=>xe.strm_url_format=e),label:"STRM文件URL格式",items:[{title:"pickcode",value:"pickcode"},{title:"pickcode + name",value:"pickname"}],chips:"","closable-chips":""},null,8,["modelValue"])]),_:1}),t(ce,{cols:"12",md:"4"},{default:n(()=>[t(ue,{modelValue:xe.link_redirect_mode,"onUpdate:modelValue":l[2]||(l[2]=e=>xe.link_redirect_mode=e),label:"直链获取模式",items:[{title:"Cookie",value:"cookie"},{title:"OpenAPI",value:"open"}],chips:"","closable-chips":""},null,8,["modelValue"])]),_:1})]),_:1}),t(me,null,{default:n(()=>[t(ce,{cols:"12",md:"4"},{default:n(()=>[t(se,{modelValue:xe.notify,"onUpdate:modelValue":l[3]||(l[3]=e=>xe.notify=e),label:"发送通知",color:"success",density:"compact"},null,8,["modelValue"])]),_:1}),t(ce,{cols:"12",md:"8"},{default:n(()=>[t(ue,{modelValue:xe.language,"onUpdate:modelValue":l[4]||(l[4]=e=>xe.language=e),label:"通知语言",items:[{title:"简体中文",value:"zh_CN"},{title:"繁中台湾",value:"zh_TW"},{title:"繁中港澳",value:"zh_HK"},{title:"柔情猫娘",value:"zh_CN_catgirl"},{title:"粤韵风华",value:"zh_yue"},{title:"咚咚搬砖",value:"zh_CN_dong"}],chips:"","closable-chips":""},null,8,["modelValue"])]),_:1})]),_:1}),t(me,null,{default:n(()=>[t(ce,{cols:"12",md:"4"},{default:n(()=>[t(Me,{modelValue:xe.cookies,"onUpdate:modelValue":l[6]||(l[6]=e=>xe.cookies=e),label:"115 Cookie",hint:"点击图标切换显隐、复制或扫码","persistent-hint":"",density:"compact",variant:"outlined","hide-details":"auto",type:be.value?"text":"password"},{"append-inner":n(()=>[t(ne,{icon:be.value?"mdi-eye-off":"mdi-eye",onClick:l[5]||(l[5]=e=>be.value=!be.value),"aria-label":be.value?"隐藏Cookie":"显示Cookie",title:be.value?"隐藏Cookie":"显示Cookie",class:"mr-1",size:"small"},null,8,["icon","aria-label","title"]),t(ne,{icon:"mdi-content-copy",onClick:pl,disabled:!xe.cookies,"aria-label":"复制Cookie",title:"复制Cookie到剪贴板",size:"small",class:"mr-1"},null,8,["disabled"])]),append:n(()=>[t(ne,{icon:"mdi-qrcode-scan",onClick:yl,color:xe.cookies?"success":"default","aria-label":xe.cookies?"更新/更换Cookie (重新扫码)":"扫码获取Cookie",title:xe.cookies?"更新/更换Cookie (重新扫码)":"扫码获取Cookie"},null,8,["color","aria-label","title"])]),_:1},8,["modelValue","type"])]),_:1}),t(ce,{cols:"12",md:"4"},{default:n(()=>[t(Me,{modelValue:xe.aliyundrive_token,"onUpdate:modelValue":l[8]||(l[8]=e=>xe.aliyundrive_token=e),label:"阿里云盘 Token (可选)",hint:"非必填。点击图标切换显隐、复制或扫码获取","persistent-hint":"",density:"compact",variant:"outlined","hide-details":"auto",type:ge.value?"text":"password"},{"append-inner":n(()=>[t(ne,{icon:ge.value?"mdi-eye-off":"mdi-eye",onClick:l[7]||(l[7]=e=>ge.value=!ge.value),"aria-label":ge.value?"隐藏Token":"显示Token",title:ge.value?"隐藏Token":"显示Token",class:"mr-1",size:"small"},null,8,["icon","aria-label","title"]),t(ne,{icon:"mdi-content-copy",onClick:fl,disabled:!xe.aliyundrive_token,"aria-label":"复制Token",title:"复制Token到剪贴板",size:"small",class:"mr-1"},null,8,["disabled"])]),append:n(()=>[t(ne,{icon:"mdi-qrcode-scan",onClick:gl,color:xe.aliyundrive_token?"success":"default","aria-label":xe.aliyundrive_token?"更新/更换Token":"扫码获取Token",title:xe.aliyundrive_token?"更新/更换Token":"扫码获取Token"},null,8,["color","aria-label","title"])]),_:1},8,["modelValue","type"])]),_:1}),t(ce,{cols:"12",md:"4"},{default:n(()=>[t(Me,{modelValue:xe.moviepilot_address,"onUpdate:modelValue":l[9]||(l[9]=e=>xe.moviepilot_address=e),label:"MoviePilot 内网访问地址",hint:"点右侧图标自动填充当前站点地址。","persistent-hint":"",density:"compact",variant:"outlined","hide-details":"auto"},{append:n(()=>[t(ne,{icon:"mdi-web",onClick:Sl,"aria-label":"使用当前站点地址",title:"使用当前站点地址",color:"info"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(me,null,{default:n(()=>[t(ce,{cols:"12",md:"6"},{default:n(()=>[t(Me,{modelValue:xe.user_rmt_mediaext,"onUpdate:modelValue":l[10]||(l[10]=e=>xe.user_rmt_mediaext=e),label:"可整理媒体文件扩展名",hint:"支持的媒体文件扩展名，多个用逗号分隔","persistent-hint":"",density:"compact",variant:"outlined","hide-details":"auto"},null,8,["modelValue"])]),_:1}),t(ce,{cols:"12",md:"6"},{default:n(()=>[t(Me,{modelValue:xe.user_download_mediaext,"onUpdate:modelValue":l[11]||(l[11]=e=>xe.user_download_mediaext=e),label:"可下载媒体数据文件扩展名",hint:"下载的字幕等附属文件扩展名，多个用逗号分隔","persistent-hint":"",density:"compact",variant:"outlined","hide-details":"auto"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),t(Qe,{flat:"",class:"rounded mb-3 border config-card"},{default:n(()=>[t(vl,{modelValue:ve.value,"onUpdate:modelValue":l[12]||(l[12]=e=>ve.value=e),color:"primary","bg-color":"grey-lighten-3",class:"rounded-t",grow:""},{default:n(()=>[t(al,{value:"tab-transfer",class:"text-caption"},{default:n(()=>[t(ne,{size:"small",start:""},{default:n(()=>l[99]||(l[99]=[d("mdi-file-move-outline")])),_:1}),l[100]||(l[100]=d("监控MP整理 "))]),_:1}),t(al,{value:"tab-sync",class:"text-caption"},{default:n(()=>[t(ne,{size:"small",start:""},{default:n(()=>l[101]||(l[101]=[d("mdi-sync")])),_:1}),l[102]||(l[102]=d("全量同步 "))]),_:1}),t(al,{value:"tab-increment-sync",class:"text-caption"},{default:n(()=>[t(ne,{size:"small",start:""},{default:n(()=>l[103]||(l[103]=[d("mdi-book-sync")])),_:1}),l[104]||(l[104]=d("增量同步 "))]),_:1}),t(al,{value:"tab-life",class:"text-caption"},{default:n(()=>[t(ne,{size:"small",start:""},{default:n(()=>l[105]||(l[105]=[d("mdi-calendar-heart")])),_:1}),l[106]||(l[106]=d("监控115生活事件 "))]),_:1}),t(al,{value:"tab-cleanup",class:"text-caption"},{default:n(()=>[t(ne,{size:"small",start:""},{default:n(()=>l[107]||(l[107]=[d("mdi-broom")])),_:1}),l[108]||(l[108]=d("定期清理 "))]),_:1}),t(al,{value:"tab-pan-transfer",class:"text-caption"},{default:n(()=>[t(ne,{size:"small",start:""},{default:n(()=>l[109]||(l[109]=[d("mdi-transfer")])),_:1}),l[110]||(l[110]=d("网盘整理 "))]),_:1}),t(al,{value:"tab-directory-upload",class:"text-caption"},{default:n(()=>[t(ne,{size:"small",start:""},{default:n(()=>l[111]||(l[111]=[d("mdi-upload")])),_:1}),l[112]||(l[112]=d("目录上传 "))]),_:1}),t(al,{value:"tab-tg-search",class:"text-caption"},{default:n(()=>[t(ne,{size:"small",start:""},{default:n(()=>l[113]||(l[113]=[d("mdi-tab-search")])),_:1}),l[114]||(l[114]=d("频道搜索 "))]),_:1}),t(al,{value:"tab-same-playback",class:"text-caption"},{default:n(()=>[t(ne,{size:"small",start:""},{default:n(()=>l[115]||(l[115]=[d("mdi:code-block-parentheses")])),_:1}),l[116]||(l[116]=d("多端播放 "))]),_:1}),t(al,{value:"tab-data-enhancement",class:"text-caption"},{default:n(()=>[t(ne,{size:"small",start:""},{default:n(()=>l[117]||(l[117]=[d("mdi-database-eye-outline")])),_:1}),l[118]||(l[118]=d("数据增强 "))]),_:1}),t(al,{value:"tab-advanced-configuration",class:"text-caption"},{default:n(()=>[t(ne,{size:"small",start:""},{default:n(()=>l[119]||(l[119]=[d("mdi-tune")])),_:1}),l[120]||(l[120]=d("高级配置 "))]),_:1})]),_:1},8,["modelValue"]),t(hl),t(El,{modelValue:ve.value,"onUpdate:modelValue":l[85]||(l[85]=e=>ve.value=e)},{default:n(()=>[t(Vl,{value:"tab-transfer"},{default:n(()=>[t(Se,null,{default:n(()=>[t(me,null,{default:n(()=>[t(ce,{cols:"12",md:"3"},{default:n(()=>[t(se,{modelValue:xe.transfer_monitor_enabled,"onUpdate:modelValue":l[13]||(l[13]=e=>xe.transfer_monitor_enabled=e),label:"启用",color:"info"},null,8,["modelValue"])]),_:1}),t(ce,{cols:"12",md:"3"},{default:n(()=>[t(se,{modelValue:xe.transfer_monitor_scrape_metadata_enabled,"onUpdate:modelValue":l[14]||(l[14]=e=>xe.transfer_monitor_scrape_metadata_enabled=e),label:"STRM自动刮削",color:"primary"},null,8,["modelValue"])]),_:1}),t(ce,{cols:"12",md:"3"},{default:n(()=>[t(se,{modelValue:xe.transfer_monitor_media_server_refresh_enabled,"onUpdate:modelValue":l[15]||(l[15]=e=>xe.transfer_monitor_media_server_refresh_enabled=e),label:"媒体服务器刷新",color:"warning"},null,8,["modelValue"])]),_:1}),t(ce,{cols:"12",md:"3"},{default:n(()=>[t(ue,{modelValue:xe.transfer_monitor_mediaservers,"onUpdate:modelValue":l[16]||(l[16]=e=>xe.transfer_monitor_mediaservers=e),label:"媒体服务器",items:he.value,multiple:"",chips:"","closable-chips":""},null,8,["modelValue","items"])]),_:1})]),_:1}),xe.transfer_monitor_scrape_metadata_enabled?(r(),s(me,{key:0,class:"mt-2 mb-2"},{default:n(()=>[t(ce,{cols:"12"},{default:n(()=>[o("div",v,[(r(!0),_(m,null,u(Be.value,(e,a)=>(r(),_("div",{key:`transfer-exclude-${a}`,class:"mb-2 d-flex align-center"},[t(Me,{modelValue:e.path,"onUpdate:modelValue":l=>e.path=l,label:"刮削排除目录",density:"compact",variant:"outlined",readonly:"","hide-details":"",class:"flex-grow-1 mr-2"},null,8,["modelValue","onUpdate:modelValue"]),t(bl,{icon:"",size:"small",color:"error",class:"ml-2",onClick:e=>Rl(a,"transfer_exclude"),disabled:!e.path},{default:n(()=>[t(ne,null,{default:n(()=>l[121]||(l[121]=[d("mdi-delete")])),_:1})]),_:2},1032,["onClick","disabled"])]))),128)),t(bl,{size:"small","prepend-icon":"mdi-folder-plus-outline",variant:"tonal",class:"mt-1 align-self-start",onClick:l[17]||(l[17]=e=>Pl("transfer_monitor_scrape_metadata_exclude_paths"))},{default:n(()=>l[122]||(l[122]=[d(" 添加刮削排除目录 ")])),_:1})]),t(de,{density:"compact",variant:"text",color:"info",class:"text-caption pa-0 mt-1"},{default:n(()=>l[123]||(l[123]=[d(" 此处添加的本地目录，在STRM文件生成后将不会自动触发刮削。 ")])),_:1})]),_:1})]),_:1})):c("",!0),t(me,null,{default:n(()=>[t(ce,{cols:"12"},{default:n(()=>[o("div",h,[(r(!0),_(m,null,u(Pe.value,(e,a)=>(r(),_("div",{key:`transfer-${a}`,class:"mb-2 d-flex align-center"},[o("div",b,[t(Me,{modelValue:e.local,"onUpdate:modelValue":l=>e.local=l,label:"本地STRM目录",density:"compact","append-icon":"mdi-folder","onClick:append":e=>sl(a,"local","transfer")},null,8,["modelValue","onUpdate:modelValue","onClick:append"])]),t(ne,null,{default:n(()=>l[124]||(l[124]=[d("mdi-pound")])),_:1}),o("div",g,[t(Me,{modelValue:e.remote,"onUpdate:modelValue":l=>e.remote=l,label:"网盘媒体库目录",density:"compact","append-icon":"mdi-folder-network","onClick:append":e=>sl(a,"remote","transfer")},null,8,["modelValue","onUpdate:modelValue","onClick:append"])]),t(bl,{icon:"",size:"small",color:"error",class:"ml-2",onClick:e=>ol(a,"transfer")},{default:n(()=>[t(ne,null,{default:n(()=>l[125]||(l[125]=[d("mdi-delete")])),_:1})]),_:2},1032,["onClick"])]))),128)),t(bl,{size:"small","prepend-icon":"mdi-plus",variant:"outlined",class:"mt-2 align-self-start",onClick:l[18]||(l[18]=e=>tl("transfer"))},{default:n(()=>l[126]||(l[126]=[d(" 添加路径 ")])),_:1})]),t(de,{type:"info",variant:"tonal",density:"compact",class:"mt-2"},{default:n(()=>l[127]||(l[127]=[d(" 监控MoviePilot整理入库事件，自动在本地对应目录生成STRM文件。"),o("br",null,null,-1),d(" 本地STRM目录：本地STRM文件生成路径 网盘媒体库目录：需要生成本地STRM文件的网盘媒体库路径 ")])),_:1})]),_:1})]),_:1}),t(me,null,{default:n(()=>[t(ce,{cols:"12"},{default:n(()=>[o("div",V,[(r(!0),_(m,null,u(Re.value,(e,a)=>(r(),_("div",{key:`mp-${a}`,class:"mb-2 d-flex align-center"},[o("div",x,[t(Me,{modelValue:e.local,"onUpdate:modelValue":l=>e.local=l,label:"媒体库服务器映射目录",density:"compact"},null,8,["modelValue","onUpdate:modelValue"])]),t(ne,null,{default:n(()=>l[128]||(l[128]=[d("mdi-pound")])),_:1}),o("div",k,[t(Me,{modelValue:e.remote,"onUpdate:modelValue":l=>e.remote=l,label:"MP映射目录",density:"compact"},null,8,["modelValue","onUpdate:modelValue"])]),t(bl,{icon:"",size:"small",color:"error",class:"ml-2",onClick:e=>ol(a,"mp")},{default:n(()=>[t(ne,null,{default:n(()=>l[129]||(l[129]=[d("mdi-delete")])),_:1})]),_:2},1032,["onClick"])]))),128)),t(bl,{size:"small","prepend-icon":"mdi-plus",variant:"outlined",class:"mt-2 align-self-start",onClick:l[19]||(l[19]=e=>tl("mp"))},{default:n(()=>l[130]||(l[130]=[d(" 添加路径 ")])),_:1})]),t(de,{type:"info",variant:"tonal",density:"compact",class:"mt-2"},{default:n(()=>l[131]||(l[131]=[d(" 媒体服务器映射路径和MP映射路径不一样时请配置此项，如果不配置则无法正常刷新。"),o("br",null,null,-1),d(" 当映射路径一样时可省略此配置。 ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(Vl,{value:"tab-sync"},{default:n(()=>[t(Se,null,{default:n(()=>[o("div",w,[t(me,null,{default:n(()=>[t(ce,{cols:"12",md:"3"},{default:n(()=>[t(ue,{modelValue:xe.full_sync_overwrite_mode,"onUpdate:modelValue":l[20]||(l[20]=e=>xe.full_sync_overwrite_mode=e),label:"覆盖模式",items:[{title:"总是",value:"always"},{title:"从不",value:"never"}],chips:"","closable-chips":""},null,8,["modelValue"])]),_:1}),t(ce,{cols:"12",md:"3"},{default:n(()=>[t(se,{modelValue:xe.full_sync_remove_unless_strm,"onUpdate:modelValue":l[21]||(l[21]=e=>xe.full_sync_remove_unless_strm=e),label:"清理失效STRM文件",color:"warning"},null,8,["modelValue"])]),_:1}),t(ce,{cols:"12",md:"3"},{default:n(()=>[t(se,{modelValue:xe.full_sync_auto_download_mediainfo_enabled,"onUpdate:modelValue":l[22]||(l[22]=e=>xe.full_sync_auto_download_mediainfo_enabled=e),label:"下载媒体数据文件",color:"warning"},null,8,["modelValue"])]),_:1}),t(ce,{cols:"12",md:"3"},{default:n(()=>[t(Me,{modelValue:Ce.value,"onUpdate:modelValue":l[23]||(l[23]=e=>Ce.value=e),label:"STRM最小文件大小",hint:"小于此值的文件将不生成STRM(单位K,M,G)","persistent-hint":"",density:"compact",placeholder:"例如: 100M (可为空)",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),t(me,null,{default:n(()=>[t(ce,{cols:"12",md:"6"},{default:n(()=>[t(se,{modelValue:xe.timing_full_sync_strm,"onUpdate:modelValue":l[24]||(l[24]=e=>xe.timing_full_sync_strm=e),label:"定期全量同步",color:"info"},null,8,["modelValue"])]),_:1}),t(ce,{cols:"12",md:"6"},{default:n(()=>[t(xl,{modelValue:xe.cron_full_sync_strm,"onUpdate:modelValue":l[25]||(l[25]=e=>xe.cron_full_sync_strm=e),label:"运行全量同步周期",hint:"设置全量同步的执行周期","persistent-hint":"",density:"compact"},null,8,["modelValue"])]),_:1})]),_:1}),t(me,null,{default:n(()=>[t(ce,{cols:"12"},{default:n(()=>[o("div",U,[(r(!0),_(m,null,u($e.value,(e,a)=>(r(),_("div",{key:`full-${a}`,class:"mb-2 d-flex align-center"},[o("div",C,[t(Me,{modelValue:e.local,"onUpdate:modelValue":l=>e.local=l,label:"本地STRM目录",density:"compact","append-icon":"mdi-folder","onClick:append":e=>sl(a,"local","fullSync")},null,8,["modelValue","onUpdate:modelValue","onClick:append"])]),t(ne,null,{default:n(()=>l[132]||(l[132]=[d("mdi-pound")])),_:1}),o("div",T,[t(Me,{modelValue:e.remote,"onUpdate:modelValue":l=>e.remote=l,label:"网盘媒体库目录",density:"compact","append-icon":"mdi-folder-network","onClick:append":e=>sl(a,"remote","fullSync")},null,8,["modelValue","onUpdate:modelValue","onClick:append"])]),t(bl,{icon:"",size:"small",color:"error",class:"ml-2",onClick:e=>ol(a,"fullSync")},{default:n(()=>[t(ne,null,{default:n(()=>l[133]||(l[133]=[d("mdi-delete")])),_:1})]),_:2},1032,["onClick"])]))),128)),t(bl,{size:"small","prepend-icon":"mdi-plus",variant:"outlined",class:"mt-2 align-self-start",onClick:l[26]||(l[26]=e=>tl("fullSync"))},{default:n(()=>l[134]||(l[134]=[d(" 添加路径 ")])),_:1})]),t(de,{type:"info",variant:"tonal",density:"compact",class:"mt-2"},{default:n(()=>l[135]||(l[135]=[d(" 全量扫描配置的网盘目录，并在对应的本地目录生成STRM文件。"),o("br",null,null,-1),d(" 本地STRM目录：本地STRM文件生成路径 网盘媒体库目录：需要生成本地STRM文件的网盘媒体库路径 ")])),_:1})]),_:1})]),_:1})]),t($l,{variant:"tonal",class:"mt-6"},{default:n(()=>[t(Tl,null,{default:n(()=>[t(kl,null,{default:n(()=>[t(ne,{icon:"mdi-tune-variant",class:"mr-2"}),l[136]||(l[136]=d(" 高级配置 "))]),_:1}),t(wl,{class:"pa-4"},{default:n(()=>[t(me,null,{default:n(()=>[t(ce,{cols:"12",md:"3"},{default:n(()=>[t(se,{modelValue:xe.full_sync_strm_log,"onUpdate:modelValue":l[27]||(l[27]=e=>xe.full_sync_strm_log=e),label:"输出STRM同步日志",color:"primary"},null,8,["modelValue"])]),_:1}),t(ce,{cols:"12",md:"3"},{default:n(()=>[t(Me,{modelValue:xe.full_sync_batch_num,"onUpdate:modelValue":l[28]||(l[28]=e=>xe.full_sync_batch_num=e),modelModifiers:{number:!0},label:"全量同步批处理数量",type:"number",hint:"每次批量处理的文件/目录数量","persistent-hint":"",density:"compact"},null,8,["modelValue"])]),_:1}),t(ce,{cols:"12",md:"3"},{default:n(()=>[t(Me,{modelValue:xe.full_sync_process_num,"onUpdate:modelValue":l[29]||(l[29]=e=>xe.full_sync_process_num=e),modelModifiers:{number:!0},label:"全量同步生成进程数",type:"number",hint:"同时执行同步任务的进程数量","persistent-hint":"",density:"compact"},null,8,["modelValue"])]),_:1}),t(ce,{cols:"12",md:"3"},{default:n(()=>[t(ue,{modelValue:xe.full_sync_iter_function,"onUpdate:modelValue":l[30]||(l[30]=e=>xe.full_sync_iter_function=e),label:"迭代函数",items:[{title:"iter_files_with_path_skim",value:"iter_files_with_path_skim"},{title:"iter_files_with_path",value:"iter_files_with_path"}],chips:"","closable-chips":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(Vl,{value:"tab-increment-sync"},{default:n(()=>[t(Se,null,{default:n(()=>[t(me,null,{default:n(()=>[t(ce,{cols:"12",md:"3"},{default:n(()=>[t(se,{modelValue:xe.increment_sync_strm_enabled,"onUpdate:modelValue":l[31]||(l[31]=e=>xe.increment_sync_strm_enabled=e),label:"启用",color:"warning"},null,8,["modelValue"])]),_:1}),t(ce,{cols:"12",md:"6"},{default:n(()=>[t(xl,{modelValue:xe.increment_sync_cron,"onUpdate:modelValue":l[32]||(l[32]=e=>xe.increment_sync_cron=e),label:"运行增量同步周期",hint:"设置增量同步的执行周期","persistent-hint":"",density:"compact"},null,8,["modelValue"])]),_:1}),t(ce,{cols:"12",md:"3"},{default:n(()=>[t(Me,{modelValue:Te.value,"onUpdate:modelValue":l[33]||(l[33]=e=>Te.value=e),label:"STRM最小文件大小",hint:"小于此值的文件将不生成STRM(单位K,M,G)","persistent-hint":"",density:"compact",placeholder:"例如: 100M (可为空)",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),t(me,null,{default:n(()=>[t(ce,{cols:"12",md:"3"},{default:n(()=>[t(se,{modelValue:xe.increment_sync_auto_download_mediainfo_enabled,"onUpdate:modelValue":l[34]||(l[34]=e=>xe.increment_sync_auto_download_mediainfo_enabled=e),label:"下载媒体数据文件",color:"warning"},null,8,["modelValue"])]),_:1}),t(ce,{cols:"12",md:"3"},{default:n(()=>[t(se,{modelValue:xe.increment_sync_scrape_metadata_enabled,"onUpdate:modelValue":l[35]||(l[35]=e=>xe.increment_sync_scrape_metadata_enabled=e),label:"STRM自动刮削",color:"primary"},null,8,["modelValue"])]),_:1}),t(ce,{cols:"12",md:"3"},{default:n(()=>[t(se,{modelValue:xe.increment_sync_media_server_refresh_enabled,"onUpdate:modelValue":l[36]||(l[36]=e=>xe.increment_sync_media_server_refresh_enabled=e),label:"媒体服务器刷新",color:"warning"},null,8,["modelValue"])]),_:1}),t(ce,{cols:"12",md:"3"},{default:n(()=>[t(ue,{modelValue:xe.increment_sync_mediaservers,"onUpdate:modelValue":l[37]||(l[37]=e=>xe.increment_sync_mediaservers=e),label:"媒体服务器",items:he.value,multiple:"",chips:"","closable-chips":""},null,8,["modelValue","items"])]),_:1})]),_:1}),xe.increment_sync_scrape_metadata_enabled?(r(),s(me,{key:0,class:"mt-2 mb-2"},{default:n(()=>[t(ce,{cols:"12"},{default:n(()=>[o("div",z,[(r(!0),_(m,null,u(Ne.value,(e,a)=>(r(),_("div",{key:`increment-exclude-${a}`,class:"mb-2 d-flex align-center"},[t(Me,{modelValue:e.path,"onUpdate:modelValue":l=>e.path=l,label:"刮削排除目录",density:"compact",variant:"outlined",readonly:"","hide-details":"",class:"flex-grow-1 mr-2"},null,8,["modelValue","onUpdate:modelValue"]),t(bl,{icon:"",size:"small",color:"error",class:"ml-2",onClick:e=>Rl(a,"increment_exclude"),disabled:!e.path},{default:n(()=>[t(ne,null,{default:n(()=>l[137]||(l[137]=[d("mdi-delete")])),_:1})]),_:2},1032,["onClick","disabled"])]))),128)),t(bl,{size:"small","prepend-icon":"mdi-folder-plus-outline",variant:"tonal",class:"mt-1 align-self-start",onClick:l[38]||(l[38]=e=>Pl("increment_sync_scrape_metadata_exclude_paths"))},{default:n(()=>l[138]||(l[138]=[d(" 添加刮削排除目录 ")])),_:1})]),t(de,{density:"compact",variant:"text",color:"info",class:"text-caption pa-0 mt-1"},{default:n(()=>l[139]||(l[139]=[d(" 此处添加的本地目录，在STRM文件生成后将不会自动触发刮削。 ")])),_:1})]),_:1})]),_:1})):c("",!0),t(me,null,{default:n(()=>[t(ce,{cols:"12"},{default:n(()=>[o("div",M,[(r(!0),_(m,null,u(Ie.value,(e,a)=>(r(),_("div",{key:`increment-${a}`,class:"mb-2 d-flex align-center"},[o("div",S,[t(Me,{modelValue:e.local,"onUpdate:modelValue":l=>e.local=l,label:"本地STRM目录",density:"compact","append-icon":"mdi-folder","onClick:append":e=>sl(a,"local","incrementSync")},null,8,["modelValue","onUpdate:modelValue","onClick:append"])]),t(ne,null,{default:n(()=>l[140]||(l[140]=[d("mdi-pound")])),_:1}),o("div",P,[t(Me,{modelValue:e.remote,"onUpdate:modelValue":l=>e.remote=l,label:"网盘媒体库目录",density:"compact","append-icon":"mdi-folder-network","onClick:append":e=>sl(a,"remote","incrementSync")},null,8,["modelValue","onUpdate:modelValue","onClick:append"])]),t(bl,{icon:"",size:"small",color:"error",class:"ml-2",onClick:e=>ol(a,"incrementSync")},{default:n(()=>[t(ne,null,{default:n(()=>l[141]||(l[141]=[d("mdi-delete")])),_:1})]),_:2},1032,["onClick"])]))),128)),t(bl,{size:"small","prepend-icon":"mdi-plus",variant:"outlined",class:"mt-2 align-self-start",onClick:l[39]||(l[39]=e=>tl("incrementSync"))},{default:n(()=>l[142]||(l[142]=[d(" 添加路径 ")])),_:1})]),t(de,{type:"info",variant:"tonal",density:"compact",class:"mt-2"},{default:n(()=>l[143]||(l[143]=[d(" 增量扫描配置的网盘目录，并在对应的本地目录生成STRM文件。"),o("br",null,null,-1),d(" 本地STRM目录：本地STRM文件生成路径 网盘媒体库目录：需要生成本地STRM文件的网盘媒体库路径 ")])),_:1})]),_:1})]),_:1}),t(me,null,{default:n(()=>[t(ce,{cols:"12"},{default:n(()=>[o("div",R,[(r(!0),_(m,null,u(Le.value,(e,a)=>(r(),_("div",{key:`increment-mp-${a}`,class:"mb-2 d-flex align-center"},[o("div",$,[t(Me,{modelValue:e.local,"onUpdate:modelValue":l=>e.local=l,label:"媒体库服务器映射目录",density:"compact"},null,8,["modelValue","onUpdate:modelValue"])]),t(ne,null,{default:n(()=>l[144]||(l[144]=[d("mdi-pound")])),_:1}),o("div",I,[t(Me,{modelValue:e.remote,"onUpdate:modelValue":l=>e.remote=l,label:"MP映射目录",density:"compact"},null,8,["modelValue","onUpdate:modelValue"])]),t(bl,{icon:"",size:"small",color:"error",class:"ml-2",onClick:e=>ol(a,"increment-mp")},{default:n(()=>[t(ne,null,{default:n(()=>l[145]||(l[145]=[d("mdi-delete")])),_:1})]),_:2},1032,["onClick"])]))),128)),t(bl,{size:"small","prepend-icon":"mdi-plus",variant:"outlined",class:"mt-2 align-self-start",onClick:l[40]||(l[40]=e=>tl("increment-mp"))},{default:n(()=>l[146]||(l[146]=[d(" 添加路径 ")])),_:1})]),t(de,{type:"info",variant:"tonal",density:"compact",class:"mt-2"},{default:n(()=>l[147]||(l[147]=[d(" 媒体服务器映射路径和MP映射路径不一样时请配置此项，如果不配置则无法正常刷新。"),o("br",null,null,-1),d(" 当映射路径一样时可省略此配置。 ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(Vl,{value:"tab-life"},{default:n(()=>[t(Se,null,{default:n(()=>[t(me,null,{default:n(()=>[t(ce,{cols:"12",md:"3"},{default:n(()=>[t(se,{modelValue:xe.monitor_life_enabled,"onUpdate:modelValue":l[41]||(l[41]=e=>xe.monitor_life_enabled=e),label:"启用",color:"info"},null,8,["modelValue"])]),_:1}),t(ce,{cols:"12",md:"3"},{default:n(()=>[t(ue,{modelValue:xe.monitor_life_event_modes,"onUpdate:modelValue":l[42]||(l[42]=e=>xe.monitor_life_event_modes=e),label:"处理事件类型",items:[{title:"新增事件",value:"creata"},{title:"删除事件",value:"remove"},{title:"网盘整理",value:"transfer"}],multiple:"",chips:"","closable-chips":""},null,8,["modelValue"])]),_:1}),t(ce,{cols:"12",md:"3"},{default:n(()=>[t(se,{modelValue:xe.monitor_life_remove_mp_history,"onUpdate:modelValue":l[43]||(l[43]=e=>xe.monitor_life_remove_mp_history=e),label:"同步删除历史记录",color:"warning",disabled:xe.monitor_life_remove_mp_source},null,8,["modelValue","disabled"])]),_:1}),t(ce,{cols:"12",md:"3"},{default:n(()=>[t(se,{modelValue:xe.monitor_life_remove_mp_source,"onUpdate:modelValue":l[44]||(l[44]=e=>xe.monitor_life_remove_mp_source=e),label:"同步删除源文件",color:"warning",onChange:l[45]||(l[45]=e=>{e&&(xe.monitor_life_remove_mp_history=!0)})},null,8,["modelValue"])]),_:1})]),_:1}),t(me,null,{default:n(()=>[t(ce,{cols:"12",md:"4"},{default:n(()=>[t(se,{modelValue:xe.monitor_life_media_server_refresh_enabled,"onUpdate:modelValue":l[46]||(l[46]=e=>xe.monitor_life_media_server_refresh_enabled=e),label:"媒体服务器刷新",color:"warning"},null,8,["modelValue"])]),_:1}),t(ce,{cols:"12",md:"8"},{default:n(()=>[t(ue,{modelValue:xe.monitor_life_mediaservers,"onUpdate:modelValue":l[47]||(l[47]=e=>xe.monitor_life_mediaservers=e),label:"媒体服务器",items:he.value,multiple:"",chips:"","closable-chips":""},null,8,["modelValue","items"])]),_:1})]),_:1}),t(me,null,{default:n(()=>[t(ce,{cols:"12",md:"4"},{default:n(()=>[t(se,{modelValue:xe.monitor_life_auto_download_mediainfo_enabled,"onUpdate:modelValue":l[48]||(l[48]=e=>xe.monitor_life_auto_download_mediainfo_enabled=e),label:"下载媒体数据文件",color:"warning"},null,8,["modelValue"])]),_:1}),t(ce,{cols:"12",md:"4"},{default:n(()=>[t(se,{modelValue:xe.monitor_life_scrape_metadata_enabled,"onUpdate:modelValue":l[49]||(l[49]=e=>xe.monitor_life_scrape_metadata_enabled=e),label:"STRM自动刮削",color:"primary"},null,8,["modelValue"])]),_:1}),t(ce,{cols:"12",md:"4"},{default:n(()=>[t(Me,{modelValue:ze.value,"onUpdate:modelValue":l[50]||(l[50]=e=>ze.value=e),label:"STRM最小文件大小",hint:"小于此值的文件将不生成STRM(单位K,M,G)","persistent-hint":"",density:"compact",placeholder:"例如: 100M (可为空)",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),xe.monitor_life_scrape_metadata_enabled?(r(),s(me,{key:0,class:"mt-2 mb-2"},{default:n(()=>[t(ce,{cols:"12"},{default:n(()=>[o("div",L,[(r(!0),_(m,null,u(je.value,(e,a)=>(r(),_("div",{key:`life-exclude-${a}`,class:"mb-2 d-flex align-center"},[t(Me,{modelValue:e.path,"onUpdate:modelValue":l=>e.path=l,label:"刮削排除目录",density:"compact",variant:"outlined",readonly:"","hide-details":"",class:"flex-grow-1 mr-2"},null,8,["modelValue","onUpdate:modelValue"]),t(bl,{icon:"",size:"small",color:"error",class:"ml-2",onClick:e=>Rl(a,"life_exclude"),disabled:!e.path},{default:n(()=>[t(ne,null,{default:n(()=>l[148]||(l[148]=[d("mdi-delete")])),_:1})]),_:2},1032,["onClick","disabled"])]))),128)),t(bl,{size:"small","prepend-icon":"mdi-folder-plus-outline",variant:"tonal",class:"mt-1 align-self-start",onClick:l[51]||(l[51]=e=>Pl("monitor_life_scrape_metadata_exclude_paths"))},{default:n(()=>l[149]||(l[149]=[d(" 添加刮削排除目录 ")])),_:1})]),t(de,{density:"compact",variant:"text",color:"info",class:"text-caption pa-0 mt-1"},{default:n(()=>l[150]||(l[150]=[d(" 此处添加的本地目录，在115生活事件监控生成STRM后将不会自动触发刮削。 ")])),_:1})]),_:1})]),_:1})):c("",!0),t(me,null,{default:n(()=>[t(ce,{cols:"12"},{default:n(()=>[o("div",q,[(r(!0),_(m,null,u(qe.value,(e,a)=>(r(),_("div",{key:`life-${a}`,class:"mb-2 d-flex align-center"},[o("div",E,[t(Me,{modelValue:e.local,"onUpdate:modelValue":l=>e.local=l,label:"本地STRM目录",density:"compact","append-icon":"mdi-folder","onClick:append":e=>sl(a,"local","monitorLife")},null,8,["modelValue","onUpdate:modelValue","onClick:append"])]),t(ne,null,{default:n(()=>l[151]||(l[151]=[d("mdi-pound")])),_:1}),o("div",A,[t(Me,{modelValue:e.remote,"onUpdate:modelValue":l=>e.remote=l,label:"网盘媒体库目录",density:"compact","append-icon":"mdi-folder-network","onClick:append":e=>sl(a,"remote","monitorLife")},null,8,["modelValue","onUpdate:modelValue","onClick:append"])]),t(bl,{icon:"",size:"small",color:"error",class:"ml-2",onClick:e=>ol(a,"monitorLife")},{default:n(()=>[t(ne,null,{default:n(()=>l[152]||(l[152]=[d("mdi-delete")])),_:1})]),_:2},1032,["onClick"])]))),128)),t(bl,{size:"small","prepend-icon":"mdi-plus",variant:"outlined",class:"mt-2 align-self-start",onClick:l[52]||(l[52]=e=>tl("monitorLife"))},{default:n(()=>l[153]||(l[153]=[d(" 添加路径 ")])),_:1})]),t(de,{type:"info",variant:"tonal",density:"compact",class:"mt-2"},{default:n(()=>l[154]||(l[154]=[d(" 监控115生活（上传、移动、接收文件、删除、复制）事件，自动在本地对应目录生成STRM文件或者删除STRM文件。"),o("br",null,null,-1),d(" 本地STRM目录：本地STRM文件生成路径 网盘媒体库目录：需要生成本地STRM文件的网盘媒体库路径 ")])),_:1})]),_:1})]),_:1}),t(me,null,{default:n(()=>[t(ce,{cols:"12"},{default:n(()=>[o("div",B,[(r(!0),_(m,null,u(Ee.value,(e,a)=>(r(),_("div",{key:`life-mp-${a}`,class:"mb-2 d-flex align-center"},[o("div",N,[t(Me,{modelValue:e.local,"onUpdate:modelValue":l=>e.local=l,label:"媒体库服务器映射目录",density:"compact"},null,8,["modelValue","onUpdate:modelValue"])]),t(ne,null,{default:n(()=>l[155]||(l[155]=[d("mdi-pound")])),_:1}),o("div",j,[t(Me,{modelValue:e.remote,"onUpdate:modelValue":l=>e.remote=l,label:"MP映射目录",density:"compact"},null,8,["modelValue","onUpdate:modelValue"])]),t(bl,{icon:"",size:"small",color:"error",class:"ml-2",onClick:e=>ol(a,"monitorLifeMp")},{default:n(()=>[t(ne,null,{default:n(()=>l[156]||(l[156]=[d("mdi-delete")])),_:1})]),_:2},1032,["onClick"])]))),128)),t(bl,{size:"small","prepend-icon":"mdi-plus",variant:"outlined",class:"mt-2 align-self-start",onClick:l[53]||(l[53]=e=>tl("monitorLifeMp"))},{default:n(()=>l[157]||(l[157]=[d(" 添加路径 ")])),_:1})]),t(de,{type:"info",variant:"tonal",density:"compact",class:"mt-2"},{default:n(()=>l[158]||(l[158]=[d(" 媒体服务器映射路径和MP映射路径不一样时请配置此项，如果不配置则无法正常刷新。"),o("br",null,null,-1),d(" 当映射路径一样时可省略此配置。 ")])),_:1})]),_:1})]),_:1}),t(de,{type:"warning",variant:"tonal",density:"compact",class:"mt-2"},{default:n(()=>l[159]||(l[159]=[d(" 注意：当 MoviePilot 主程序运行整理任务时 115生活事件 监控会自动暂停，整理运行完成后会继续监控。 ")])),_:1})]),_:1})]),_:1}),t(Vl,{value:"tab-cleanup"},{default:n(()=>[t(Se,null,{default:n(()=>[t(de,{type:"warning",variant:"tonal",density:"compact",class:"mb-4"},{default:n(()=>l[160]||(l[160]=[d(" 注意，清空 回收站/最近接收 后文件不可恢复，如果产生重要数据丢失本程序不负责！ ")])),_:1}),t(me,null,{default:n(()=>[t(ce,{cols:"12",md:"3"},{default:n(()=>[t(se,{modelValue:xe.clear_recyclebin_enabled,"onUpdate:modelValue":l[54]||(l[54]=e=>xe.clear_recyclebin_enabled=e),label:"清空回收站",color:"error"},null,8,["modelValue"])]),_:1}),t(ce,{cols:"12",md:"3"},{default:n(()=>[t(se,{modelValue:xe.clear_receive_path_enabled,"onUpdate:modelValue":l[55]||(l[55]=e=>xe.clear_receive_path_enabled=e),label:"清空最近接收目录",color:"error"},null,8,["modelValue"])]),_:1}),t(ce,{cols:"12",md:"3"},{default:n(()=>[t(Me,{modelValue:xe.password,"onUpdate:modelValue":l[56]||(l[56]=e=>xe.password=e),label:"115访问密码",hint:"115网盘登录密码","persistent-hint":"",type:"password",density:"compact",variant:"outlined","hide-details":"auto"},null,8,["modelValue"])]),_:1}),t(ce,{cols:"12",md:"3"},{default:n(()=>[t(xl,{modelValue:xe.cron_clear,"onUpdate:modelValue":l[57]||(l[57]=e=>xe.cron_clear=e),label:"清理周期",hint:"设置清理任务的执行周期","persistent-hint":"",density:"compact"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),t(Vl,{value:"tab-pan-transfer"},{default:n(()=>[t(Se,null,{default:n(()=>[t(me,null,{default:n(()=>[t(ce,{cols:"12",md:"4"},{default:n(()=>[t(se,{modelValue:xe.pan_transfer_enabled,"onUpdate:modelValue":l[58]||(l[58]=e=>xe.pan_transfer_enabled=e),label:"启用",color:"info"},null,8,["modelValue"])]),_:1})]),_:1}),t(me,null,{default:n(()=>[t(ce,{cols:"12"},{default:n(()=>[o("div",K,[(r(!0),_(m,null,u(Ae.value,(e,a)=>(r(),_("div",{key:`pan-${a}`,class:"mb-2 d-flex align-center"},[t(Me,{modelValue:e.path,"onUpdate:modelValue":l=>e.path=l,label:"网盘待整理目录",density:"compact","append-icon":"mdi-folder-network","onClick:append":e=>sl(a,"remote","panTransfer"),class:"flex-grow-1"},null,8,["modelValue","onUpdate:modelValue","onClick:append"]),t(bl,{icon:"",size:"small",color:"error",class:"ml-2",onClick:e=>(e=>{Ae.value.splice(e,1),0===Ae.value.length&&(Ae.value=[{path:""}])})(a)},{default:n(()=>[t(ne,null,{default:n(()=>l[161]||(l[161]=[d("mdi-delete")])),_:1})]),_:2},1032,["onClick"])]))),128)),t(bl,{size:"small","prepend-icon":"mdi-plus",variant:"outlined",class:"mt-2 align-self-start",onClick:nl},{default:n(()=>l[162]||(l[162]=[d(" 添加路径 ")])),_:1})])]),_:1})]),_:1}),t(me,{class:"mt-4"},{default:n(()=>[t(ce,{cols:"12"},{default:n(()=>[t(Me,{modelValue:xe.pan_transfer_unrecognized_path,"onUpdate:modelValue":l[59]||(l[59]=e=>xe.pan_transfer_unrecognized_path=e),label:"网盘整理未识别目录",density:"compact","append-icon":"mdi-folder-network","onClick:append":l[60]||(l[60]=e=>sl("unrecognized","remote","panTransferUnrecognized"))},null,8,["modelValue"]),t(de,{type:"info",variant:"tonal",density:"compact",class:"mt-2"},{default:n(()=>l[163]||(l[163]=[d(" 提示：此目录用于存放整理过程中未能识别的媒体文件。 ")])),_:1}),t(de,{type:"warning",variant:"tonal",density:"compact",class:"mt-2"},{default:n(()=>l[164]||(l[164]=[d(" 注意：未识别目录不能设置在任何媒体库目录或待整理目录的内部。 ")])),_:1})]),_:1})]),_:1}),t(hl,{class:"my-3"}),t(de,{type:"info",variant:"tonal",density:"compact",class:"mt-2"},{default:n(()=>l[165]||(l[165]=[d(" 使用本功能需要先进入 设定-目录 进行配置："),o("br",null,null,-1),d(" 1. 添加目录配置卡，按需配置媒体类型和媒体类别，资源存储选择115网盘，资源目录输入网盘待整理文件夹"),o("br",null,null,-1),d(" 2. 自动整理模式选择手动整理，媒体库存储依旧选择115网盘，并配置好媒体库路径，整理方式选择移动，按需配置分类、重命名、通知"),o("br",null,null,-1),d(" 3. 配置完成目录设置后只需要在上方 网盘待整理目录 填入 网盘待整理文件夹 即可"),o("br",null,null,-1)])),_:1}),t(de,{type:"warning",variant:"tonal",density:"compact",class:"mt-2"},{default:n(()=>l[166]||(l[166]=[d(" 注意：配置目录时不能选择刮削元数据，否则可能导致风控！ ")])),_:1}),t(de,{type:"warning",variant:"tonal",density:"compact",class:"mt-2"},{default:n(()=>l[167]||(l[167]=[d(" 注意："),o("br",null,null,-1),d(" 1. 阿里云盘，115网盘分享链接秒传或转存都依赖于网盘整理"),o("br",null,null,-1),d(" 2. TG/Slack资源搜索转存也依赖于网盘整理"),o("br",null,null,-1),d(" 3. 当阿里云盘分享秒传未能识别分享媒体信息时，会自动将资源转存到网盘整理未识别目录，后续需要用户手动重命名整理 ")])),_:1}),t(de,{type:"warning",variant:"tonal",density:"compact",class:"mt-2"},{default:n(()=>l[168]||(l[168]=[d(" 注意：115生活事件监控默认会忽略网盘整理触发的移动事件，所以推荐使用MP整理事件监控生成STRM ")])),_:1})]),_:1})]),_:1}),t(Vl,{value:"tab-directory-upload"},{default:n(()=>[t(Se,null,{default:n(()=>[t(me,null,{default:n(()=>[t(ce,{cols:"12",md:"4"},{default:n(()=>[t(se,{modelValue:xe.directory_upload_enabled,"onUpdate:modelValue":l[61]||(l[61]=e=>xe.directory_upload_enabled=e),label:"启用",color:"info",density:"compact","hide-details":""},null,8,["modelValue"])]),_:1}),t(ce,{cols:"12",md:"8"},{default:n(()=>[t(ue,{modelValue:xe.directory_upload_mode,"onUpdate:modelValue":l[62]||(l[62]=e=>xe.directory_upload_mode=e),label:"监控模式",items:[{title:"兼容模式",value:"compatibility"},{title:"性能模式",value:"fast"}],chips:"","closable-chips":"",density:"compact","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1}),t(me,null,{default:n(()=>[t(ce,{cols:"12",md:"6"},{default:n(()=>[t(Me,{modelValue:xe.directory_upload_uploadext,"onUpdate:modelValue":l[63]||(l[63]=e=>xe.directory_upload_uploadext=e),label:"上传文件扩展名",hint:"指定哪些扩展名的文件会被上传到115网盘，多个用逗号分隔","persistent-hint":"",density:"compact",variant:"outlined","hide-details":"auto"},null,8,["modelValue"])]),_:1}),t(ce,{cols:"12",md:"6"},{default:n(()=>[t(Me,{modelValue:xe.directory_upload_copyext,"onUpdate:modelValue":l[64]||(l[64]=e=>xe.directory_upload_copyext=e),label:"复制文件扩展名",hint:"指定哪些扩展名的文件会被复制到本地目标目录，多个用逗号分隔","persistent-hint":"",density:"compact",variant:"outlined","hide-details":"auto"},null,8,["modelValue"])]),_:1})]),_:1}),t(hl,{class:"my-3"}),l[174]||(l[174]=o("div",{class:"text-subtitle-2 mb-2"},"路径配置:",-1)),(r(!0),_(m,null,u(Ke.value,(e,a)=>(r(),_("div",{key:`upload-${a}`,class:"path-group mb-3 pa-2 border rounded"},[t(me,{dense:""},{default:n(()=>[t(ce,{cols:"12",md:"6"},{default:n(()=>[t(Me,{modelValue:e.src,"onUpdate:modelValue":l=>e.src=l,label:"本地监控目录",density:"compact",variant:"outlined","hide-details":"","append-icon":"mdi-folder-search-outline","onClick:append":e=>sl(a,"local","directoryUpload","src")},{"prepend-inner":n(()=>[t(ne,{color:"blue"},{default:n(()=>l[169]||(l[169]=[d("mdi-folder-table")])),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue","onClick:append"])]),_:2},1024),t(ce,{cols:"12",md:"6"},{default:n(()=>[t(Me,{modelValue:e.dest_remote,"onUpdate:modelValue":l=>e.dest_remote=l,label:"网盘上传目标目录",density:"compact",variant:"outlined","hide-details":"","append-icon":"mdi-folder-network-outline","onClick:append":e=>sl(a,"remote","directoryUpload","dest_remote")},{"prepend-inner":n(()=>[t(ne,{color:"green"},{default:n(()=>l[170]||(l[170]=[d("mdi-cloud-upload")])),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue","onClick:append"])]),_:2},1024)]),_:2},1024),t(me,{dense:"",class:"mt-1"},{default:n(()=>[t(ce,{cols:"12",md:"6"},{default:n(()=>[t(Me,{modelValue:e.dest_local,"onUpdate:modelValue":l=>e.dest_local=l,label:"本地复制目标目录 (可选)",density:"compact",variant:"outlined","hide-details":"","append-icon":"mdi-folder-plus-outline","onClick:append":e=>sl(a,"local","directoryUpload","dest_local")},{"prepend-inner":n(()=>[t(ne,{color:"orange"},{default:n(()=>l[171]||(l[171]=[d("mdi-content-copy")])),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue","onClick:append"])]),_:2},1024),t(ce,{cols:"12",md:"4",class:"d-flex align-center"},{default:n(()=>[t(se,{modelValue:e.delete,"onUpdate:modelValue":l=>e.delete=l,label:"处理后删除源文件",color:"error",density:"compact","hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(ce,{cols:"12",md:"2",class:"d-flex align-center justify-end"},{default:n(()=>[t(bl,{icon:"mdi-delete-outline",size:"small",color:"error",variant:"text",title:"删除此路径配置",onClick:e=>ol(a,"directoryUpload")},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]))),128)),t(bl,{size:"small","prepend-icon":"mdi-plus-box-multiple-outline",variant:"tonal",class:"mt-2",color:"primary",onClick:l[65]||(l[65]=e=>tl("directoryUpload"))},{default:n(()=>l[172]||(l[172]=[d(" 添加监控路径组 ")])),_:1}),t(de,{type:"info",variant:"tonal",density:"compact",class:"mt-3 text-caption"},{default:n(()=>l[173]||(l[173]=[o("strong",null,"功能说明:",-1),o("br",null,null,-1),d(' - 监控指定的"本地监控目录"。'),o("br",null,null,-1),d(" - 当目录中出现新文件时："),o("br",null,null,-1),d('   - 如果文件扩展名匹配"上传文件扩展名"，则将其上传到对应的"网盘上传目标目录"。'),o("br",null,null,-1),d('   - 如果文件扩展名匹配"复制文件扩展名"，则将其复制到对应的"本地复制目标目录"。'),o("br",null,null,-1),d(' - 处理完成后，如果"删除源文件"开关打开，则会删除原始文件。'),o("br",null,null,-1),d(" - 扩展名不匹配的文件将被忽略。"),o("br",null,null,-1),o("strong",null,"注意:",-1),o("br",null,null,-1),d(" - 请确保MoviePilot对本地目录有读写权限，对网盘目录有写入权限。"),o("br",null,null,-1),d(' - "本地复制目标目录"是可选的，如果不填，则仅执行上传操作（如果匹配）。'),o("br",null,null,-1),d(' - 监控模式："兼容模式"适用于Docker或网络共享目录（如SMB），性能较低；"性能模式"仅适用于物理路径，性能较高。 ')])),_:1})]),_:1})]),_:1}),t(Vl,{value:"tab-tg-search"},{default:n(()=>[t(Se,null,{default:n(()=>[t(Qe,{variant:"outlined",class:"mb-6"},{default:n(()=>[t(Il,null,{default:n(()=>[t(ie,{class:"d-flex align-center"},{default:n(()=>[t(ne,{start:""},{default:n(()=>l[175]||(l[175]=[d("mdi-cog-outline")])),_:1}),l[176]||(l[176]=o("span",{class:"text-h6"},"Nullbr 搜索配置",-1))]),_:1})]),_:1}),t(Se,null,{default:n(()=>[t(me,null,{default:n(()=>[t(ce,{cols:"12",md:"6"},{default:n(()=>[t(Me,{modelValue:xe.nullbr_app_id,"onUpdate:modelValue":l[66]||(l[66]=e=>xe.nullbr_app_id=e),label:"Nullbr APP ID",hint:"从 Nullbr 官网申请","persistent-hint":"",density:"compact",variant:"outlined"},null,8,["modelValue"])]),_:1}),t(ce,{cols:"12",md:"6"},{default:n(()=>[t(Me,{modelValue:xe.nullbr_api_key,"onUpdate:modelValue":l[67]||(l[67]=e=>xe.nullbr_api_key=e),label:"Nullbr API KEY",hint:"从 Nullbr 官网申请","persistent-hint":"",density:"compact",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),t(Qe,{variant:"outlined"},{default:n(()=>[t(Il,null,{default:n(()=>[t(ie,{class:"d-flex align-center"},{default:n(()=>[t(ne,{start:""},{default:n(()=>l[177]||(l[177]=[d("mdi-telegram")])),_:1}),l[178]||(l[178]=o("span",{class:"text-h6"},"自定义Telegram频道",-1))]),_:1})]),_:1}),t(Se,null,{default:n(()=>[(r(!0),_(m,null,u(Ge.value,(e,a)=>(r(),_("div",{key:a,class:"d-flex align-center mb-4"},[t(Me,{modelValue:e.name,"onUpdate:modelValue":l=>e.name=l,label:"频道名称",placeholder:"例如：爱影115资源分享频道",density:"compact",variant:"outlined","hide-details":"",class:"mr-3"},null,8,["modelValue","onUpdate:modelValue"]),t(Me,{modelValue:e.id,"onUpdate:modelValue":l=>e.id=l,label:"频道ID",placeholder:"例如：ayzgzf",density:"compact",variant:"outlined","hide-details":"",class:"mr-3"},null,8,["modelValue","onUpdate:modelValue"]),t(bl,{icon:"",size:"small",color:"error",variant:"tonal",onClick:e=>(e=>{Ge.value.splice(e,1),0===Ge.value.length&&Ge.value.push({name:"",id:""})})(a),title:"删除此频道"},{default:n(()=>[t(ne,null,{default:n(()=>l[179]||(l[179]=[d("mdi-delete-outline")])),_:1})]),_:2},1032,["onClick"])]))),128)),o("div",O,[t(bl,{size:"small","prepend-icon":"mdi-plus-circle-outline",variant:"tonal",color:"primary",onClick:Fe},{default:n(()=>l[180]||(l[180]=[d(" 添加频道 ")])),_:1}),t(bl,{size:"small","prepend-icon":"mdi-import",variant:"tonal",onClick:il},{default:n(()=>l[181]||(l[181]=[d(" 一键导入 ")])),_:1})])]),_:1})]),_:1}),t(de,{type:"info",variant:"tonal",density:"compact",class:"mt-6 text-caption"},{default:n(()=>l[182]||(l[182]=[o("strong",null,"Telegram频道搜索功能说明",-1),o("br",null,null,-1),d(" - 您可以同时配置 Nullbr 和下方的自定义频道列表。"),o("br",null,null,-1),d(" - 系统会整合两者的搜索结果，为您提供更广泛的资源范围。 ")])),_:1})]),_:1})]),_:1}),t(Vl,{value:"tab-same-playback"},{default:n(()=>[t(Se,null,{default:n(()=>[t(me,null,{default:n(()=>[t(ce,{cols:"12",md:"4"},{default:n(()=>[t(se,{modelValue:xe.same_playback,"onUpdate:modelValue":l[68]||(l[68]=e=>xe.same_playback=e),label:"启用",color:"info",density:"compact","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1}),t(de,{type:"info",variant:"tonal",density:"compact",class:"mt-3 text-caption"},{default:n(()=>l[183]||(l[183]=[o("strong",null,"多设备同步播放",-1),o("br",null,null,-1),d(" • 支持多个设备同时播放同一影片 ")])),_:1}),t(de,{type:"warning",variant:"tonal",density:"compact",class:"mt-2"},{default:n(()=>l[184]||(l[184]=[o("strong",null,"使用限制",-1),o("br",null,null,-1),d(" • 最多支持双IP同时播放"),o("br",null,null,-1),d(" • 禁止多IP滥用"),o("br",null,null,-1),d(" • 违规操作可能导致账号封禁 ")])),_:1})]),_:1})]),_:1}),t(Vl,{value:"tab-data-enhancement"},{default:n(()=>[t(Se,null,{default:n(()=>[t(me,null,{default:n(()=>[t(ce,{cols:"12",md:"4"},{default:n(()=>[t(se,{modelValue:xe.error_info_upload,"onUpdate:modelValue":l[69]||(l[69]=e=>xe.error_info_upload=e),label:"错误信息上传",color:"info",density:"compact"},null,8,["modelValue"])]),_:1}),t(ce,{cols:"12",md:"4"},{default:n(()=>[t(se,{modelValue:xe.upload_module_enhancement,"onUpdate:modelValue":l[70]||(l[70]=e=>xe.upload_module_enhancement=e),label:"上传模块增强",color:"info",density:"compact"},null,8,["modelValue"])]),_:1}),t(ce,{cols:"12",md:"4"},{default:n(()=>[t(se,{modelValue:xe.transfer_module_enhancement,"onUpdate:modelValue":l[71]||(l[71]=e=>xe.transfer_module_enhancement=e),label:"整理模块增强",color:"info",density:"compact",disabled:Ve.value,hint:"此功能需要授权才能开启","persistent-hint":""},null,8,["modelValue","disabled"])]),_:1})]),_:1}),t(me,null,{default:n(()=>[t(ce,{cols:"12",md:"4"},{default:n(()=>[t(se,{modelValue:xe.upload_share_info,"onUpdate:modelValue":l[72]||(l[72]=e=>xe.upload_share_info=e),label:"上传分享链接",color:"info",density:"compact"},null,8,["modelValue"])]),_:1}),t(ce,{cols:"12",md:"4"},{default:n(()=>[t(se,{modelValue:xe.upload_offline_info,"onUpdate:modelValue":l[73]||(l[73]=e=>xe.upload_offline_info=e),label:"上传离线下载链接",color:"info",density:"compact"},null,8,["modelValue"])]),_:1})]),_:1}),t(me,null,{default:n(()=>[t(ce,{cols:"12",md:"4",class:"d-flex align-center"},{default:n(()=>[t(bl,{onClick:el,size:"small","prepend-icon":"mdi-identifier"},{default:n(()=>l[185]||(l[185]=[d("显示设备ID")])),_:1})]),_:1})]),_:1}),De.value?(r(),s(me,{key:0},{default:n(()=>[t(ce,{cols:"12"},{default:n(()=>[t(Me,{modelValue:De.value,"onUpdate:modelValue":l[74]||(l[74]=e=>De.value=e),label:"Machine ID",readonly:"",density:"compact",variant:"outlined","hide-details":"auto"},null,8,["modelValue"])]),_:1})]),_:1})):c("",!0),t($l,{variant:"tonal",class:"mt-6"},{default:n(()=>[t(Tl,null,{default:n(()=>[t(kl,null,{default:n(()=>[t(ne,{icon:"mdi-tune-variant",class:"mr-2"}),l[186]||(l[186]=d(" 上传模块增强配置 "))]),_:1}),t(wl,{class:"pa-4"},{default:n(()=>[t(me,null,{default:n(()=>[t(ce,{cols:"12",md:"4"},{default:n(()=>[t(se,{modelValue:xe.upload_module_skip_slow_upload,"onUpdate:modelValue":l[75]||(l[75]=e=>xe.upload_module_skip_slow_upload=e),label:"秒传失败直接退出",color:"info",density:"compact"},null,8,["modelValue"])]),_:1}),t(ce,{cols:"12",md:"4"},{default:n(()=>[t(se,{modelValue:xe.upload_module_notify,"onUpdate:modelValue":l[76]||(l[76]=e=>xe.upload_module_notify=e),label:"秒传等待发送通知",color:"info",density:"compact"},null,8,["modelValue"])]),_:1})]),_:1}),t(me,null,{default:n(()=>[t(ce,{cols:"12",md:"6"},{default:n(()=>[t(Me,{modelValue:xe.upload_module_wait_time,"onUpdate:modelValue":l[77]||(l[77]=e=>xe.upload_module_wait_time=e),modelModifiers:{number:!0},label:"秒传休眠等待时间（单位秒）",type:"number",hint:"秒传休眠等待时间（单位秒）","persistent-hint":"",density:"compact"},null,8,["modelValue"])]),_:1}),t(ce,{cols:"12",md:"6"},{default:n(()=>[t(Me,{modelValue:xe.upload_module_wait_timeout,"onUpdate:modelValue":l[78]||(l[78]=e=>xe.upload_module_wait_timeout=e),modelModifiers:{number:!0},label:"秒传最长等待时间（单位秒）",type:"number",hint:"秒传最长等待时间（单位秒）","persistent-hint":"",density:"compact"},null,8,["modelValue"])]),_:1})]),_:1}),t(me,null,{default:n(()=>[t(ce,{cols:"12",md:"6"},{default:n(()=>[t(Me,{modelValue:we.value,"onUpdate:modelValue":l[79]||(l[79]=e=>we.value=e),label:"跳过等待秒传的文件大小阈值",hint:"文件小于此值将跳过等待秒传（单位支持K，M，G）","persistent-hint":"",density:"compact",placeholder:"例如: 5M, 1.5G (可为空)",clearable:""},null,8,["modelValue"])]),_:1}),t(ce,{cols:"12",md:"6"},{default:n(()=>[t(Me,{modelValue:Ue.value,"onUpdate:modelValue":l[80]||(l[80]=e=>Ue.value=e),label:"强制等待秒传的文件大小阈值",hint:"文件大于此值将强制等待秒传（单位支持K，M，G）","persistent-hint":"",density:"compact",placeholder:"例如: 5M, 1.5G (可为空)",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),t(de,{type:"info",variant:"tonal",density:"compact",class:"mt-3 text-caption"},{default:n(()=>l[187]||(l[187]=[o("strong",null,"秒传失败直接退出：",-1),o("br",null,null,-1),d(" 此功能开启后，对于无法秒传或者秒传等待超时的文件将直接跳过上传步骤，整理返回失败。 ")])),_:1})]),_:1})]),_:1})]),_:1}),t(de,{type:"info",variant:"tonal",density:"compact",class:"mt-3 text-caption"},{default:n(()=>l[188]||(l[188]=[o("strong",null,"115上传增强有效范围：",-1),o("br",null,null,-1),d(" 此功能开启后，将对整个MoviePilot系统内所有调用115网盘上传的功能生效。 ")])),_:1}),t(de,{type:"warning",variant:"tonal",density:"compact",class:"mt-3 text-caption"},{default:n(()=>l[189]||(l[189]=[o("strong",null,"风险与免责声明",-1),o("br",null,null,-1),d(" - 插件程序内包含可选的Sentry分析组件，详见"),o("a",{href:"https://sentry.io/privacy/",target:"_blank",style:{color:"inherit","text-decoration":"underline"}},"Sentry Privacy Policy",-1),d("。"),o("br",null,null,-1),d(" - 插件程序将在必要时上传错误信息及运行环境信息。"),o("br",null,null,-1),d(" - 插件程序将记录程序运行重要节点并保存追踪数据至少72小时。 ")])),_:1})]),_:1})]),_:1}),t(Vl,{value:"tab-advanced-configuration"},{default:n(()=>[t(Se,null,{default:n(()=>[t(me,null,{default:n(()=>[t(ce,{cols:"12"},{default:n(()=>[t(Ll,{modelValue:xe.strm_url_mode_custom,"onUpdate:modelValue":l[81]||(l[81]=e=>xe.strm_url_mode_custom=e),label:"自定义STRM URL格式",variant:"outlined",rows:"5","persistent-hint":"",hint:"为特定文件扩展名指定URL格式，优先级高于基础设置。格式：ext1,ext2 => format",placeholder:"例如：\niso => pickname\nmp4,mkv => pickcode",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),t(de,{type:"info",variant:"tonal",density:"compact",class:"mt-2 text-caption"},{default:n(()=>l[190]||(l[190]=[o("strong",null,"格式说明:",-1),o("br",null,null,-1),d(" - 每行一条规则，格式为：`文件后缀 => URL格式`。"),o("br",null,null,-1),d(" - 左侧为文件扩展名(不含`.`)，多个后缀用英文逗号(`,`)分隔。"),o("br",null,null,-1),d(" - 右侧为URL格式，可选值为 `pickcode` 或 `pickname`。"),o("br",null,null,-1),d(" - 此处未指定的扩展名将使用 “基础设置” 中的 “STRM文件URL格式” 配置。"),o("br",null,null,-1),d(" - "),o("strong",null,"示例:",-1),o("br",null,null,-1),d("   "),o("code",null,"iso => pickname",-1),d(" (iso文件使用 pickcode+name 格式)"),o("br",null,null,-1),d("   "),o("code",null,"mp4,mkv,ts => pickcode",-1),d(" (mp4, mkv, ts 文件使用 pickcode 格式) ")])),_:1}),t(me,{class:"mt-4"},{default:n(()=>[t(ce,{cols:"12"},{default:n(()=>[t(ql,{modelValue:xe.strm_generate_blacklist,"onUpdate:modelValue":l[82]||(l[82]=e=>xe.strm_generate_blacklist=e),label:"STRM文件关键词过滤黑名单",hint:"输入关键词后按回车确认，可添加多个。包含这些词的视频文件将不会生成STRM文件。","persistent-hint":"",multiple:"",chips:"","closable-chips":"",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1})]),_:1}),t(me,{class:"mt-4"},{default:n(()=>[t(ce,{cols:"12"},{default:n(()=>[t(ql,{modelValue:xe.mediainfo_download_whitelist,"onUpdate:modelValue":l[83]||(l[83]=e=>xe.mediainfo_download_whitelist=e),label:"媒体信息文件下载关键词过滤白名单",hint:"输入关键词后按回车确认，可添加多个。不包含这些词的媒体信息文件将不会下载。","persistent-hint":"",multiple:"",chips:"","closable-chips":"",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1})]),_:1}),t(me,{class:"mt-4"},{default:n(()=>[t(ce,{cols:"12"},{default:n(()=>[t(ql,{modelValue:xe.mediainfo_download_blacklist,"onUpdate:modelValue":l[84]||(l[84]=e=>xe.mediainfo_download_blacklist=e),label:"媒体信息文件下载关键词过滤黑名单",hint:"输入关键词后按回车确认，可添加多个。包含这些词的媒体信息文件将不会下载。","persistent-hint":"",multiple:"",chips:"","closable-chips":"",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]))]),_:1}),t(Bl,{class:"px-3 py-2 d-flex",style:{"flex-shrink":"0"}},{default:n(()=>[t(bl,{color:"warning",variant:"text",onClick:l[86]||(l[86]=e=>_e("switch")),size:"small","prepend-icon":"mdi-arrow-left"},{default:n(()=>l[191]||(l[191]=[d(" 返回 ")])),_:1}),t(Al),t(bl,{color:"warning",variant:"text",onClick:l[87]||(l[87]=e=>Oe.value=!0),size:"small","prepend-icon":"mdi-sync"},{default:n(()=>l[192]||(l[192]=[d(" 全量同步 ")])),_:1}),t(bl,{color:"success",variant:"text",onClick:Xe,loading:fe.value,size:"small","prepend-icon":"mdi-content-save"},{default:n(()=>l[193]||(l[193]=[d(" 保存配置 ")])),_:1},8,["loading"])]),_:1})]),_:1}),t(Nl,{modelValue:Oe.value,"onUpdate:modelValue":l[89]||(l[89]=e=>Oe.value=e),"max-width":"450",persistent:""},{default:n(()=>[t(Qe,null,{default:n(()=>[t(ie,{class:"text-h6 d-flex align-center"},{default:n(()=>[t(ne,{icon:"mdi-alert-circle-outline",color:"warning",class:"mr-2"}),l[194]||(l[194]=d(" 确认操作 "))]),_:1}),t(Se,null,{default:n(()=>l[195]||(l[195]=[d(" 您确定要立即执行全量同步吗？ ")])),_:1}),t(Bl,null,{default:n(()=>[t(Al),t(bl,{color:"grey",variant:"text",onClick:l[88]||(l[88]=e=>Oe.value=!1),disabled:ye.value},{default:n(()=>l[196]||(l[196]=[d(" 取消 ")])),_:1},8,["disabled"]),t(bl,{color:"warning",variant:"text",onClick:ll,loading:ye.value},{default:n(()=>l[197]||(l[197]=[d(" 确认执行 ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(Nl,{modelValue:We.show,"onUpdate:modelValue":l[91]||(l[91]=e=>We.show=e),"max-width":"800"},{default:n(()=>[t(Qe,null,{default:n(()=>[t(ie,{class:"text-subtitle-1 d-flex align-center px-3 py-2 bg-primary-lighten-5"},{default:n(()=>[t(ne,{icon:We.isLocal?"mdi-folder-search":"mdi-folder-network",class:"mr-2",color:"primary"},null,8,["icon"]),o("span",null,i(We.isLocal?"选择本地目录":"选择网盘目录"),1)]),_:1}),t(Se,{class:"px-3 py-2"},{default:n(()=>[We.loading?(r(),_("div",D,[t(jl,{indeterminate:"",color:"primary"})])):(r(),_("div",G,[t(Me,{modelValue:We.currentPath,"onUpdate:modelValue":l[90]||(l[90]=e=>We.currentPath=e),label:"当前路径",variant:"outlined",density:"compact",class:"mb-2",onKeyup:p(cl,["enter"])},null,8,["modelValue"]),t(Gl,{class:"border rounded","max-height":"300px","overflow-y":"auto"},{default:n(()=>["/"!==We.currentPath&&"C:\\"!==We.currentPath&&"C:/"!==We.currentPath?(r(),s(Dl,{key:0,onClick:ul,class:"py-1"},{prepend:n(()=>[t(ne,{icon:"mdi-arrow-up",size:"small",class:"mr-2",color:"grey"})]),default:n(()=>[t(Kl,{class:"text-body-2"},{default:n(()=>l[198]||(l[198]=[d("上级目录")])),_:1}),t(Ol,null,{default:n(()=>l[199]||(l[199]=[d("..")])),_:1})]),_:1})):c("",!0),(r(!0),_(m,null,u(We.items,(e,l)=>(r(),s(Dl,{key:l,onClick:l=>(e=>{e&&e.is_dir&&e.path&&(We.currentPath=e.path,cl())})(e),disabled:!e.is_dir,class:"py-1"},{prepend:n(()=>[t(ne,{icon:e.is_dir?"mdi-folder":"mdi-file",size:"small",class:"mr-2",color:e.is_dir?"amber-darken-2":"blue"},null,8,["icon","color"])]),default:n(()=>[t(Kl,{class:"text-body-2"},{default:n(()=>[d(i(e.name),1)]),_:2},1024)]),_:2},1032,["onClick","disabled"]))),128)),We.items.length?c("",!0):(r(),s(Dl,{key:1,class:"py-2 text-center"},{default:n(()=>[t(Kl,{class:"text-body-2 text-grey"},{default:n(()=>l[200]||(l[200]=[d("该目录为空或访问受限")])),_:1})]),_:1}))]),_:1})])),We.error?(r(),s(de,{key:2,type:"error",density:"compact",class:"mt-2 text-caption",variant:"tonal"},{default:n(()=>[d(i(We.error),1)]),_:1})):c("",!0)]),_:1}),t(Bl,{class:"px-3 py-2"},{default:n(()=>[t(Al),t(bl,{color:"primary",onClick:ml,disabled:!We.currentPath||We.loading,variant:"text",size:"small"},{default:n(()=>l[201]||(l[201]=[d(" 选择当前目录 ")])),_:1},8,["disabled"]),t(bl,{color:"grey",onClick:_l,variant:"text",size:"small"},{default:n(()=>l[202]||(l[202]=[d(" 取消 ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(Nl,{modelValue:He.show,"onUpdate:modelValue":l[93]||(l[93]=e=>He.show=e),"max-width":"450"},{default:n(()=>[t(Qe,null,{default:n(()=>[t(ie,{class:"text-subtitle-1 d-flex align-center px-3 py-2 bg-primary-lighten-5"},{default:n(()=>[t(ne,{icon:"mdi-qrcode",class:"mr-2",color:"primary",size:"small"}),l[203]||(l[203]=o("span",null,"115网盘扫码登录",-1))]),_:1}),t(Se,{class:"text-center py-4"},{default:n(()=>[He.error?(r(),s(de,{key:0,type:"error",density:"compact",class:"mb-3 mx-3",variant:"tonal",closable:""},{default:n(()=>[d(i(He.error),1)]),_:1})):c("",!0),He.loading?(r(),_("div",F,[t(jl,{indeterminate:"",color:"primary",class:"mb-3"}),l[204]||(l[204]=o("div",null,"正在获取二维码...",-1))])):He.qrcode?(r(),_("div",J,[l[207]||(l[207]=o("div",{class:"mb-2 font-weight-medium"},"请选择扫码方式",-1)),t(Jl,{modelValue:He.clientType,"onUpdate:modelValue":l[92]||(l[92]=e=>He.clientType=e),class:"mb-3",mandatory:"","selected-class":"primary"},{default:n(()=>[(r(),_(m,null,u(Ye,e=>t(Fl,{key:e.value,value:e.value,variant:"outlined",color:"primary",size:"small"},{default:n(()=>[d(i(e.label),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"]),o("div",W,[t(Qe,{flat:"",class:"border pa-2 mb-2"},{default:n(()=>[o("img",{src:He.qrcode,width:"220",height:"220"},null,8,H)]),_:1}),o("div",Y,i(He.tips),1),o("div",Z,i(He.status),1)]),t(bl,{color:"primary",variant:"tonal",onClick:zl,size:"small",class:"mb-2"},{default:n(()=>[t(ne,{left:"",size:"small",class:"mr-1"},{default:n(()=>l[205]||(l[205]=[d("mdi-refresh")])),_:1}),l[206]||(l[206]=d("刷新二维码 "))]),_:1})])):(r(),_("div",Q,[t(ne,{icon:"mdi-qrcode-off",size:"64",color:"grey",class:"mb-3"}),l[209]||(l[209]=o("div",{class:"text-subtitle-1"},"二维码获取失败",-1)),l[210]||(l[210]=o("div",{class:"text-body-2 text-grey"},"请点击刷新按钮重试",-1)),o("div",X,[t(ne,{icon:"mdi-alert-circle",size:"small",class:"mr-1 text-warning"}),l[208]||(l[208]=d(" 如果多次获取失败，请检查网络连接 "))])]))]),_:1}),t(hl),t(Bl,{class:"px-3 py-2"},{default:n(()=>[t(bl,{color:"grey",variant:"text",onClick:Ml,size:"small","prepend-icon":"mdi-close"},{default:n(()=>l[211]||(l[211]=[d("关闭")])),_:1}),t(Al),t(bl,{color:"primary",variant:"text",onClick:zl,disabled:He.loading,size:"small","prepend-icon":"mdi-refresh"},{default:n(()=>l[212]||(l[212]=[d(" 刷新二维码 ")])),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(Nl,{modelValue:Ze.show,"onUpdate:modelValue":l[94]||(l[94]=e=>Ze.show=e),"max-width":"450"},{default:n(()=>[t(Qe,null,{default:n(()=>[t(ie,{class:"text-subtitle-1 d-flex align-center px-3 py-2 bg-primary-lighten-5"},{default:n(()=>[t(ne,{icon:"mdi-qrcode",class:"mr-2",color:"primary",size:"small"}),l[213]||(l[213]=o("span",null,"阿里云盘扫码登录",-1))]),_:1}),t(Se,{class:"text-center py-4"},{default:n(()=>[Ze.error?(r(),s(de,{key:0,type:"error",density:"compact",class:"mb-3 mx-3",variant:"tonal",closable:""},{default:n(()=>[d(i(Ze.error),1)]),_:1})):c("",!0),Ze.loading?(r(),_("div",ee,[t(jl,{indeterminate:"",color:"primary",class:"mb-3"}),l[214]||(l[214]=o("div",null,"正在获取二维码...",-1))])):Ze.qrcode?(r(),_("div",le,[t(Qe,{flat:"",class:"border pa-2 mb-2"},{default:n(()=>[o("img",{src:Ze.qrcode,width:"220",height:"220"},null,8,ae)]),_:1}),l[215]||(l[215]=o("div",{class:"text-body-2 text-grey mb-1"},"请使用阿里云盘App扫描二维码",-1)),o("div",te,i(Ze.status),1)])):(r(),_("div",oe,[t(ne,{icon:"mdi-qrcode-off",size:"64",color:"grey",class:"mb-3"}),l[216]||(l[216]=o("div",{class:"text-subtitle-1"},"二维码获取失败",-1)),l[217]||(l[217]=o("div",{class:"text-body-2 text-grey"},"请点击刷新按钮重试",-1))]))]),_:1}),t(hl),t(Bl,{class:"px-3 py-2"},{default:n(()=>[t(bl,{color:"grey",variant:"text",onClick:Cl,size:"small","prepend-icon":"mdi-close"},{default:n(()=>l[218]||(l[218]=[d("关闭")])),_:1}),t(Al),t(bl,{color:"primary",variant:"text",onClick:Ul,disabled:Ze.loading,size:"small","prepend-icon":"mdi-refresh"},{default:n(()=>l[219]||(l[219]=[d(" 刷新 ")])),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(Nl,{modelValue:Je.show,"onUpdate:modelValue":l[96]||(l[96]=e=>Je.show=e),"max-width":"600",persistent:""},{default:n(()=>[t(Qe,null,{default:n(()=>[t(ie,{class:"text-subtitle-1 d-flex align-center px-3 py-2 bg-primary-lighten-5"},{default:n(()=>[t(ne,{icon:"mdi-import",class:"mr-2",color:"primary",size:"small"}),l[220]||(l[220]=o("span",null,"一键导入频道配置",-1))]),_:1}),t(Se,{class:"py-4"},{default:n(()=>[Je.error?(r(),s(de,{key:0,type:"error",density:"compact",class:"mb-3",variant:"tonal",closable:""},{default:n(()=>[d(i(Je.error),1)]),_:1})):c("",!0),l[221]||(l[221]=o("p",{class:"text-caption mb-2 text-grey-darken-1"},[d(" 请在此处粘贴JSON格式的频道列表。格式应为："),o("br"),o("code",null,'[{"name":"名称1", "id":"id1"}, {"name":"名称2", "id":"id2"}]')],-1)),t(Ll,{modelValue:Je.jsonText,"onUpdate:modelValue":l[95]||(l[95]=e=>Je.jsonText=e),label:"频道配置JSON",variant:"outlined",rows:"8","auto-grow":"","hide-details":"auto",placeholder:'[{"name":"Lsp115","id":"Lsp115"}]'},null,8,["modelValue"])]),_:1}),t(hl),t(Bl,{class:"px-3 py-2"},{default:n(()=>[t(Al),t(bl,{color:"grey",variant:"text",onClick:dl,size:"small"},{default:n(()=>l[222]||(l[222]=[d(" 取消 ")])),_:1}),t(bl,{color:"primary",variant:"text",onClick:rl,size:"small"},{default:n(()=>l[223]||(l[223]=[d(" 确认导入 ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},[["__scopeId","data-v-a84a426f"]]);export{me as default};
